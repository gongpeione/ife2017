{"version":3,"sources":["webpack:///4.index.js","webpack:///./src/nuomi/vue3/index.js","webpack:///./src/nuomi/vue2/style.scss","webpack:///./src/nuomi/vue2/style.scss?d54a","webpack:///./src/nuomi/vue3/Observer.js","webpack:///./src/nuomi/vue3/template.html"],"names":["webpackJsonp","131","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","create","parent","option","length","undefined","_gtool","g","$","innerHTML","_template2","oldConsole","console","log","outputList","output","isCommand","push","app1","_Observer2","name","firstName","lastName","age","$watch","newName","data","playCommand","addList","input","addEventListener","e","keyCode","CONST","KEY_CODE","ENTER","command","test","eval","outputEle","scrollTop","scrollHeight","Object","defineProperty","_ref","regeneratorRuntime","mark","_callee","i","wrap","_context","prev","next","r","j","setTimeout","stop","_x4","_template","_Observer","320","321","content","locals","335","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","constructor","prototype","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","ObEventHandler","changeMethods","callback","newVal","path","_this","pathArray","slice","split","callChangeMethods","forEach","pathName","pathSlice","join","Observer","originalData","handler","observe","checkData","_this2","keys","initProperty","val","_this3","get","set","bubbling","onChange","380"],"mappings":"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","file":"4.index.js","sourcesContent":["webpackJsonp([4,15],{\n\n/***/ 131:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar playCommand = function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(outputList) {\n        var i;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        i = 0;\n\n                    case 1:\n                        if (!(i < outputList.length)) {\n                            _context.next = 9;\n                            break;\n                        }\n\n                        _context.next = 4;\n                        return new Promise(function (r, j) {\n                            setTimeout(function () {\n                                r();\n                            }, 200);\n                        });\n\n                    case 4:\n                        _context.next = 6;\n                        return addList(outputList[i]);\n\n                    case 6:\n                        i++;\n                        _context.next = 1;\n                        break;\n\n                    case 9:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, this);\n    }));\n\n    return function playCommand(_x4) {\n        return _ref.apply(this, arguments);\n    };\n}();\n\nexports.create = create;\n\nvar _template = __webpack_require__(380);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _gtool = __webpack_require__(59);\n\n__webpack_require__(321);\n\nvar _Observer = __webpack_require__(335);\n\nvar _Observer2 = _interopRequireDefault(_Observer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction create(parent) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n\n    parent.innerHTML = _template2.default;\n\n    var oldConsole = console.log;\n    var outputList = [];\n    console.log = function (output) {\n        var isCommand = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (isCommand) {\n            outputList.push('<div class=\"command\"><span>> </span>' + output + '</div>');\n        } else {\n            outputList.push('<div><span>< </span>' + output + '</div>');\n        }\n    };\n\n    console.log('let app1 = new Observer({\\n        name: {\\n            firstName: \\'shaofeng\\',\\n            lastName: \\'liang\\'\\n        },\\n        age: 25\\n    });', true);\n    var app1 = new _Observer2.default({\n        name: {\n            firstName: 'shaofeng',\n            lastName: 'liang'\n        },\n        age: 25\n    });\n\n    console.log('app1.$watch(\\'name\\', function (newName) {\\n        console.log(\\'\\u6211\\u7684\\u59D3\\u540D\\u53D1\\u751F\\u4E86\\u53D8\\u5316\\uFF0C\\u53EF\\u80FD\\u662F\\u59D3\\u6C0F\\u53D8\\u4E86\\uFF0C\\u4E5F\\u53EF\\u80FD\\u662F\\u540D\\u5B57\\u53D8\\u4E86\\u3002\\')\\n    });', true);\n    app1.$watch('name', function (newName) {\n        console.log('我的姓名发生了变化，可能是姓氏变了，也可能是名字变了。新值为：' + newName);\n    });\n\n    console.log('app1.data.name.firstName = \\'hahaha\\';', true);\n    app1.data.name.firstName = 'hahaha';\n\n    console.log('app1.data.name.lastName = \\'blablabla\\';', true);\n    app1.data.name.lastName = 'blablabla';\n\n    playCommand(outputList);\n\n    console.log = function (output) {\n        var isCommand = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (isCommand) {\n            addList('<div class=\"command\"><span>> </span>' + output + '</div>');\n        } else {\n            addList('<div><span>< </span>' + output + '</div>');\n        }\n    };\n    var input = _gtool.g.$('.console input');\n    input.addEventListener('keyup', function (e) {\n        if (e.keyCode === _gtool.CONST.KEY_CODE.ENTER) {\n\n            var command = input.value;\n            console.log(command, true);\n\n            if (/app1\\.data\\.(\\w+)+?\\s?=?('.*?')?/.test(command)) {\n                eval(command);\n            } else {\n                console.log(\"[warning] Command illegal\");\n            }\n\n            input.value = '';\n        }\n    });\n}\n\nfunction addList(output) {\n    var outputEle = _gtool.g.$('.console .output');\n    outputEle.innerHTML += output;\n    outputEle.scrollTop = outputEle.scrollHeight;\n}\n\n/***/ }),\n\n/***/ 320:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(318)();\n// imports\n\n\n// module\nexports.push([module.i, \".console{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden;background:#eee;border-radius:3px;width:60%}.console div{padding:5px 8px;background:#223348;border-bottom:1px solid #404446;color:#fff}.console div span{color:hsla(0,0%,100%,.4);margin-right:5px}.console div.command{color:#8fb0bb}.console input{border:none;width:100%;background:#404446;padding:5px 10px;outline:none;color:#eee}.console .output{height:400px;overflow:auto}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 321:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(320);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(319)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 335:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ObEventHandler = function () {\n    function ObEventHandler() {\n        _classCallCheck(this, ObEventHandler);\n\n        this.changeMethods = {};\n    }\n\n    _createClass(ObEventHandler, [{\n        key: 'onChange',\n        value: function onChange(name) {\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n            this.changeMethods[name] = callback;\n        }\n    }, {\n        key: 'callChangeMethods',\n        value: function callChangeMethods(name) {\n            var newVal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n            name in this.changeMethods && this.changeMethods[name](newVal);\n        }\n    }, {\n        key: 'bubbling',\n        value: function bubbling(path, newVal) {\n            var _this = this;\n\n            var pathArray = path.slice(0, path.length - 1).split('.');\n            var length = pathArray.length;\n\n            this.callChangeMethods(path, newVal);\n\n            if (length) {\n                pathArray.forEach(function (pathName) {\n                    _this.callChangeMethods(pathName, newVal);\n                });\n\n                for (var i = pathArray.length - 1; i >= 2; i--) {\n                    var pathSlice = pathArray.slice(0, i);\n                    this.callChangeMethods(pathSlice.join('.'), newVal);\n                }\n            }\n        }\n    }]);\n\n    return ObEventHandler;\n}();\n\nvar Observer = function () {\n    function Observer(data) {\n        _classCallCheck(this, Observer);\n\n        this.originalData = this.data = data;\n\n        this.handler = new ObEventHandler();\n\n        this.observe(this.originalData);\n    }\n\n    _createClass(Observer, [{\n        key: 'observe',\n        value: function observe(data) {\n            this.checkData(data);\n        }\n    }, {\n        key: 'checkData',\n        value: function checkData(data) {\n            var _this2 = this;\n\n            var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n            if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n                Object.keys(data).forEach(function (key) {\n                    _this2.initProperty(data, key, data[key], path);\n                });\n            }\n        }\n    }, {\n        key: 'initProperty',\n        value: function initProperty(data, key, val, path) {\n            var _this3 = this;\n\n            path += key + '.';\n\n            this.checkData(val, path);\n\n            Object.defineProperty(data, key, {\n                enumerable: true,\n                configurable: false,\n                get: function get() {\n                    return val;\n                },\n                set: function set(newVal) {\n                    _this3.checkData(newVal, parent);\n                    _this3.handler.bubbling(path, newVal);\n                    val = newVal;\n                }\n            });\n        }\n    }, {\n        key: '$watch',\n        value: function $watch(name) {\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n            this.handler.onChange(name, callback);\n        }\n    }]);\n\n    return Observer;\n}();\n\nexports.default = Observer;\n\n/***/ }),\n\n/***/ 380:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=console> <div class=output></div> <input type=text placeholder=\\\"仅支持 app1.data.xxx 或 app1.data.xxx = xx 命令\\\"> </div>\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 4.index.js","import template from './template.html';\nimport { g, CONST } from '../../gtool';\nimport '../vue2/style.scss';\nimport Observer from './Observer';\n\nexport function create (parent, option = []) {\n    parent = typeof parent === 'string' ? g.$(parent) : parent;\n\n    parent.innerHTML = template;\n\n    const oldConsole = console.log;\n    const outputList = [];\n    console.log = (output, isCommand = false) => {\n        if (isCommand) {\n            outputList.push(`<div class=\"command\"><span>> </span>${output}</div>`);\n        } else {\n            outputList.push(`<div><span>< </span>${output}</div>`);\n        }\n    };\n\n    console.log(`let app1 = new Observer({\n        name: {\n            firstName: 'shaofeng',\n            lastName: 'liang'\n        },\n        age: 25\n    });`, true);\n    let app1 = new Observer({\n        name: {\n            firstName: 'shaofeng',\n            lastName: 'liang'\n        },\n        age: 25\n    });\n\n    console.log(`app1.$watch('name', function (newName) {\n        console.log('我的姓名发生了变化，可能是姓氏变了，也可能是名字变了。')\n    });`, true);\n    app1.$watch('name', function (newName) {\n        console.log('我的姓名发生了变化，可能是姓氏变了，也可能是名字变了。新值为：' + newName);\n    });\n\n    console.log(`app1.data.name.firstName = 'hahaha';`, true);\n    app1.data.name.firstName = 'hahaha';\n\n    console.log(`app1.data.name.lastName = 'blablabla';`, true);\n    app1.data.name.lastName = 'blablabla';\n\n    playCommand(outputList);\n\n    console.log = (output, isCommand = false) => {\n        if (isCommand) {\n            addList(`<div class=\"command\"><span>> </span>${output}</div>`);\n        } else {\n            addList(`<div><span>< </span>${output}</div>`);\n        }\n    };\n    const input = g.$('.console input');\n    input.addEventListener('keyup', e => {\n        if (e.keyCode === CONST.KEY_CODE.ENTER) {\n            \n            const command = input.value;\n            console.log(command, true);\n\n            if (/app1\\.data\\.(\\w+)+?\\s?=?('.*?')?/.test(command)) {\n                eval(command);\n            } else {\n                console.log(\"[warning] Command illegal\");\n            }\n\n            input.value = '';\n        }\n    });\n}\n\nasync function playCommand (outputList) {\n    // console.log(outputList);\n    for(let i = 0; i < outputList.length; i++) {\n        await new Promise((r, j) => { setTimeout(() => { r() } , 200); });\n        await addList(outputList[i]);\n    }\n}\n\nfunction addList (output) {\n    const outputEle = g.$('.console .output');\n    outputEle.innerHTML += output;\n    outputEle.scrollTop = outputEle.scrollHeight;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/vue3/index.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".console{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden;background:#eee;border-radius:3px;width:60%}.console div{padding:5px 8px;background:#223348;border-bottom:1px solid #404446;color:#fff}.console div span{color:hsla(0,0%,100%,.4);margin-right:5px}.console div.command{color:#8fb0bb}.console input{border:none;width:100%;background:#404446;padding:5px 10px;outline:none;color:#eee}.console .output{height:400px;overflow:auto}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/vue2/style.scss\n// module id = 320\n// module chunks = 4 5 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/vue2/style.scss\n// module id = 321\n// module chunks = 4 5 6","class ObEventHandler {\n    constructor () {\n        this.changeMethods = {};\n    }\n\n    onChange (name, callback = () => {}) {\n        this.changeMethods[name] = callback;\n    }\n\n    callChangeMethods (name, newVal = '') {\n        name in this.changeMethods && this.changeMethods[name](newVal);\n    }\n\n    bubbling (path, newVal) {\n        \n        const pathArray = path.slice(0, path.length - 1).split('.');\n        const length = pathArray.length;\n\n        // Call same path name's function,eg '['a.b.c.d']()'\n        this.callChangeMethods(path, newVal);\n\n        if (length) {\n\n            // Call each path name's function, eg '['a'](), ['b']() ...'\n            pathArray.forEach(pathName => {\n                this.callChangeMethods(pathName, newVal);\n            });\n\n            // Call parent path name's function,, eg '['a.b.c'](), ['a.b']() ...'\n            for (let i = pathArray.length - 1; i >= 2 ; i--) {\n                const pathSlice = pathArray.slice(0, i);\n                this.callChangeMethods(pathSlice.join('.'), newVal);\n            }\n        }\n    }\n}\n\nexport default class Observer {\n\n    constructor (data) {\n        this.originalData = this.data = data;\n\n        this.handler = new ObEventHandler();\n\n        this.observe(this.originalData);\n    }\n\n    observe (data) {\n        this.checkData(data);\n    }\n\n    checkData (data, path = '') {\n        if (typeof data === 'object') {\n            Object.keys(data).forEach(key => {\n                this.initProperty(data, key, data[key], path);\n            });\n        }\n    }\n\n    initProperty (data, key, val, path) {\n\n        path += key + '.';\n\n        this.checkData(val, path); \n\n        Object.defineProperty(data, key, {\n            enumerable: true,\n            configurable: false,\n            get: () => {\n                return val;\n            },\n            set: newVal => {\n                this.checkData(newVal, parent);\n                this.handler.bubbling(path, newVal);\n                val = newVal;\n            }\n        });\n    }\n\n    $watch (name, callback = () => {}) {\n        this.handler.onChange(name, callback);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/vue3/Observer.js","module.exports = \"<div class=console> <div class=output></div> <input type=text placeholder=\\\"仅支持 app1.data.xxx 或 app1.data.xxx = xx 命令\\\"> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/vue3/template.html\n// module id = 380\n// module chunks = 4"],"sourceRoot":""}