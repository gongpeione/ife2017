{"version":3,"sources":["webpack:///7.index.js","webpack:///./src/nuomi/markdown/index.js","webpack:///./src/nuomi/markdown/Markdown.js","webpack:///./src/nuomi/markdown/style.scss","webpack:///./src/nuomi/markdown/style.scss?2f02","webpack:///./src/nuomi/markdown/template.html"],"names":["webpackJsonp","126","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","create","parent","arguments","length","undefined","_gtool","g","$","innerHTML","_template2","_Markdown2","Object","defineProperty","value","_template","_Markdown","327","_toConsumableArray","arr","Array","isArray","i","arr2","from","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","MarkDown","dataSource","this","data","children","html","vdom","class","concat","contentList","pattern","link","markPattern","h1","separator","emphasis","strongEm","strikeThrough","ul","ol","reg","repeat","RegExp","console","log","init","setAttribute","mutation","MutationObserver","mutations","forEach","type","observe","childList","characterData","subtree","parse","newVal","dir","split","347","push","360","content","locals","375"],"mappings":"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","file":"7.index.js","sourcesContent":["webpackJsonp([7,15],{\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.create = create;\n\nvar _template = __webpack_require__(375);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _gtool = __webpack_require__(59);\n\n__webpack_require__(360);\n\nvar _Markdown = __webpack_require__(327);\n\nvar _Markdown2 = _interopRequireDefault(_Markdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction create(parent) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n\n    parent.innerHTML = _template2.default;\n\n    new _Markdown2.default('.markdown .content');\n}\n\n/***/ }),\n\n/***/ 327:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _gtool = __webpack_require__(59);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MarkDown = function () {\n    function MarkDown(dataSource) {\n        _classCallCheck(this, MarkDown);\n\n        this.data = typeof dataSource === 'string' ? _gtool.g.$(dataSource) : dataSource;\n        this.children = [];\n        this.html = new _gtool.g.vdom('div', { class: 'g-mark' }, [].concat(_toConsumableArray(this.children)));\n        this.contentList = [];\n\n        this.pattern = {\n            link: /https?:\\/\\/(.*?)/\n        };\n        this.markPattern = {\n            h1: /a/,\n            separator: /[-=]{3,}/,\n            emphasis: /[\\*_](.*?)[\\*_]/,\n            strongEm: /[\\*_]{2}(.*?)[\\*_]{2}/,\n            strikeThrough: /~{2}(.*?)~{2}/,\n            ul: /[\\*\\-\\+]\\s([^\\n]+)/,\n            ol: /\\d+\\.\\s([^\\n]+)/,\n            link: /\\[(^\\])+\\]\\([(^\\)]+\\)/\n        };\n\n        for (var i = 1; i <= 6; i++) {\n            var reg = '#'.repeat(i) + '\\\\s([^\\\\n]+?)';\n            this.markPattern['h' + i] = new RegExp(reg);\n        }\n\n        console.log(this.markPattern);\n\n        this.init();\n    }\n\n    _createClass(MarkDown, [{\n        key: 'init',\n        value: function init() {\n\n            this.data.setAttribute('contenteditable', true);\n\n            this.mutation = new MutationObserver(function (mutations) {\n                mutations.forEach(function (mutation) {\n                    console.log(mutation, mutation.type);\n                });\n            });\n            this.mutation.observe(this.data, {\n                childList: true,\n                characterData: true,\n                subtree: true\n            });\n        }\n    }, {\n        key: 'update',\n        value: function update() {\n            this.parse(this.data.value);\n        }\n    }, {\n        key: 'parse',\n        value: function parse(newVal) {\n            console.dir(newVal.split('\\n'));\n        }\n    }]);\n\n    return MarkDown;\n}();\n\nexports.default = MarkDown;\n\n/***/ }),\n\n/***/ 347:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(318)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 360:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(347);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(319)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 375:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=markdown> <div class=content></div> </div>\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 7.index.js","import template from './template.html';\nimport { g } from '../../gtool';\nimport './style.scss';\nimport Markdown from './Markdown';\n\nexport function create (parent, option = []) {\n    parent = typeof parent === 'string' ? g.$(parent) : parent;\n\n    parent.innerHTML = template;\n\n    new Markdown('.markdown .content');\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/markdown/index.js","import { g } from '../../gtool';\n\nexport default class MarkDown {\n    constructor (dataSource) {\n        this.data = typeof dataSource === 'string' ? g.$(dataSource) : dataSource;\n        this.children = [];\n        this.html = new g.vdom('div', { class: 'g-mark' }, [ ...this.children ]);\n        this.contentList = [];\n\n        this.pattern = {\n            link: /https?:\\/\\/(.*?)/\n        }\n        this.markPattern = {\n            h1: /a/,\n            separator: /[-=]{3,}/,\n            emphasis: /[\\*_](.*?)[\\*_]/,\n            strongEm: /[\\*_]{2}(.*?)[\\*_]{2}/,\n            strikeThrough: /~{2}(.*?)~{2}/,\n            ul: /[\\*\\-\\+]\\s([^\\n]+)/,\n            ol: /\\d+\\.\\s([^\\n]+)/,\n            link: /\\[(^\\])+\\]\\([(^\\)]+\\)/\n        }\n\n        for (let i = 1; i <= 6; i++) {\n            const reg = '#'.repeat(i) + '\\\\s([^\\\\n]+?)';\n            this.markPattern['h' + i] = new RegExp(reg);\n        }\n\n        console.log(this.markPattern);\n\n        this.init();\n    }\n\n    init () {\n\n        this.data.setAttribute('contenteditable', true);\n        \n        this.mutation = new MutationObserver(function(mutations) {\n            mutations.forEach(function(mutation) {\n                console.log(mutation, mutation.type);\n            });    \n        });\n        this.mutation.observe(this.data, { \n            // attributes: true, \n            childList: true, \n            characterData: true,\n            subtree: true\n        });\n    }\n\n    update () {\n        this.parse(this.data.value);\n    }\n\n    parse (newVal) {\n        console.dir(newVal.split('\\n'));\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/markdown/Markdown.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/markdown/style.scss\n// module id = 347\n// module chunks = 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/markdown/style.scss\n// module id = 360\n// module chunks = 7","module.exports = \"<div class=markdown> <div class=content></div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/markdown/template.html\n// module id = 375\n// module chunks = 7"],"sourceRoot":""}