{"version":3,"sources":["webpack:///7.index.js","webpack:///./src/nuomi/markdown/index.js","webpack:///./src/nuomi/markdown/Markdown.js","webpack:///./src/nuomi/markdown/style.scss","webpack:///./src/nuomi/markdown/style.scss?2f02","webpack:///./src/nuomi/markdown/template.html"],"names":["webpackJsonp","126","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","create","parent","arguments","length","undefined","_gtool","g","$","innerHTML","_template2","_Markdown2","Object","defineProperty","value","_template","_Markdown","327","_toConsumableArray","arr","Array","isArray","i","arr2","from","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","constructor","prototype","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","MarkDown","output","this","children","html","vdom","class","concat","contentList","pattern","link","markPattern","separator","regex","template","singleLine","lineStart","emphasis","strongEm","strikeThrough","ul","ol","img","blockquote","code","pre","reg","repeat","RegExp","console","log","init","_this","textarea","render","addEventListener","e","parse","appendChild","newVal","_this2","lines","split","linesParsed","forEach","line","parseLine","push","join","_this3","isBlockEle","_loop","test","replace","v","quoteList","matches","match","filtered","$1","$_","_ret","347","360","content","locals","375"],"mappings":"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","file":"7.index.js","sourcesContent":["webpackJsonp([7,15],{\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.create = create;\n\nvar _template = __webpack_require__(375);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _gtool = __webpack_require__(59);\n\n__webpack_require__(360);\n\nvar _Markdown = __webpack_require__(327);\n\nvar _Markdown2 = _interopRequireDefault(_Markdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction create(parent) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n\n    parent.innerHTML = _template2.default;\n\n    new _Markdown2.default('.markdown .content', '.out');\n}\n\n/***/ }),\n\n/***/ 327:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _gtool = __webpack_require__(59);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MarkDown = function () {\n    function MarkDown(parent, output) {\n        _classCallCheck(this, MarkDown);\n\n        this.parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n        this.children = [];\n        this.html = new _gtool.g.vdom('div', { class: 'g-mark' }, [].concat(_toConsumableArray(this.children)));\n        this.contentList = [];\n\n        this.value = '';\n\n        if (output) {\n            this.output = typeof output === 'string' ? _gtool.g.$(output) : output;\n        }\n\n        this.pattern = {\n            link: /https?:\\/\\/(.*?)/\n        };\n        this.markPattern = {\n            separator: {\n                regex: /[\\-=\\*]{3,}/,\n                template: '<hr>',\n                singleLine: true,\n                lineStart: true\n            },\n            emphasis: {\n                regex: /[\\*_]([^\\*_]+?)[\\*_](?!\\*)/,\n                template: '<em>{data}</em>',\n                singleLine: false\n            },\n            strongEm: {\n                regex: /[\\*_]{2}(.*?)[\\*_]{2}/,\n                template: '<strong>{data}</strong>',\n                singleLine: false\n            },\n            strikeThrough: {\n                regex: /~{2}(.*?)~{2}/,\n                template: '<del>{data}</del>',\n                singleLine: false\n            },\n            ul: {\n                regex: /^[\\*\\-\\+]\\s([^\\n]+)/,\n                template: '<li>{data}</li>',\n                singleLine: false,\n                lineStart: true\n            },\n            ol: {\n                regex: /^\\d+\\.\\s([^\\n]+)/,\n                template: '<li>{data}</li>',\n                singleLine: false,\n                lineStart: true\n            },\n            link: {\n                regex: /\\[(^\\])+\\]\\([(^\\)]+\\)/,\n                template: '<a href=\"{data[1]}\">{data[0]}</a>',\n                singleLine: false\n            },\n            img: {\n                regex: /!\\[(^\\])+\\]\\([(^\\)]+\\)/,\n                template: '<img src=\"{data[1]}\" alt=\"{data[0]}\">',\n                singleLine: false\n            },\n            blockquote: {\n                regex: /\\>\\s([^\\n]+)/,\n                template: '<blockquote>{data}</blockquote>',\n                singleLine: false,\n                lineStart: true\n            },\n            code: {\n                regex: /`([^`]+)`/,\n                template: '<code>{data}</code>',\n                singleLine: false\n            },\n            pre: {\n                regex: /```(\\w+)([^`]+)```/,\n                template: '<pre>{data[1]}</pre>',\n                singleLine: false\n            }\n        };\n\n        for (var i = 1; i <= 6; i++) {\n            var reg = '^' + '#'.repeat(i) + '\\\\s([^\\\\n]+)';\n            this.markPattern['h' + i] = {\n                regex: new RegExp(reg),\n                template: '<h' + i + '>{data}</h' + i + '>',\n                singleLine: false,\n                lineStart: true\n            };\n        }\n\n        console.log(this.markPattern);\n\n        this.init();\n    }\n\n    _createClass(MarkDown, [{\n        key: 'init',\n        value: function init() {\n            var _this = this;\n\n            this.textarea = new _gtool.g.vdom('textarea', {\n                class: 'g-MarkDown'\n            }, [this.parent.innerHTML]).render();\n\n            this.textarea.addEventListener('keyup', function (e) {\n                _this.value = _this.textarea.value;\n\n                _this.parse(_this.value);\n            });\n\n            this.parent.appendChild(this.textarea);\n        }\n    }, {\n        key: 'update',\n        value: function update() {\n            this.parse(this.textarea.value);\n        }\n    }, {\n        key: 'parse',\n        value: function parse(newVal) {\n            var _this2 = this;\n\n            var lines = newVal.split('\\n\\n');\n            var linesParsed = [];\n\n            lines.forEach(function (line) {\n\n                line = _this2.parseLine(line);\n                linesParsed.push(line);\n            });\n\n            this.output.innerHTML = linesParsed.join('\\n');\n        }\n    }, {\n        key: 'parseLine',\n        value: function parseLine(line) {\n            var _this3 = this;\n\n            var isBlockEle = false;\n            var isQuote = false;\n\n            var _loop = function _loop(key) {\n\n                var pattern = _this3.markPattern[key];\n\n                if (!pattern.regex.test(line)) {\n                    return 'continue';\n                }\n\n                if (pattern.singleLine) {\n                    line = line.replace(pattern.regex, pattern.template);\n                    linesParsed.push(line);\n                    return {\n                        v: void 0\n                    };\n                }\n\n                if (pattern.lineStart) {\n\n                    if (key === 'blockquote') {\n                        var quoteList = [];\n                        var _matches = line.match(new RegExp(pattern.regex, 'g'));\n\n                        _matches.forEach(function (match) {\n                            var filtered = match.replace(/>\\s/, '');\n                            quoteList.push(_this3.parseLine(filtered));\n                        });\n\n                        line = pattern.template.replace('{data}', quoteList.join('\\n'));\n\n                        return 'continue';\n                    }\n\n                    var filtered = pattern.template.replace('{data}', RegExp.$1);\n\n                    line = line.replace(RegExp.$_, filtered);\n\n                    isBlockEle = true;\n\n                    return 'continue';\n                }\n                console.log(RegExp.$1, RegExp.$_);\n                var matches = line.match(new RegExp(pattern.regex, 'g'));\n                matches.forEach(function (match) {\n                    line = line.replace(match, pattern.template.replace('{data}', RegExp.$1));\n                });\n            };\n\n            for (var key in this.markPattern) {\n                var _ret = _loop(key);\n\n                switch (_ret) {\n                    case 'continue':\n                        continue;\n\n                    default:\n                        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n                }\n            }\n\n            if (!isBlockEle) {\n                return '<p>' + line + '</p>';\n            } else {\n                return line;\n            }\n        }\n    }]);\n\n    return MarkDown;\n}();\n\nexports.default = MarkDown;\n\n/***/ }),\n\n/***/ 347:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(318)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 360:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(347);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(319)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 375:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=markdown> <div class=content></div> <div class=out></div> </div>\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 7.index.js","import template from './template.html';\nimport { g } from '../../gtool';\nimport './style.scss';\nimport Markdown from './Markdown';\n\nexport function create (parent, option = []) {\n    parent = typeof parent === 'string' ? g.$(parent) : parent;\n\n    parent.innerHTML = template;\n\n    new Markdown('.markdown .content', '.out');\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/markdown/index.js","import { g } from '../../gtool';\n\nexport default class MarkDown {\n    constructor (parent, output) {\n        this.parent = typeof parent === 'string' ? g.$(parent) : parent;\n        this.children = [];\n        this.html = new g.vdom('div', { class: 'g-mark' }, [ ...this.children ]);\n        this.contentList = [];\n\n        this.value = '';\n\n        if (output) {\n            this.output = typeof output === 'string' ? g.$(output) : output;\n        }\n\n        this.pattern = {\n            link: /https?:\\/\\/(.*?)/\n        }\n        this.markPattern = {\n            separator: {\n                regex: /[\\-=\\*]{3,}/,\n                template: '<hr>',\n                singleLine: true,\n                lineStart: true,\n            },\n            emphasis: {\n                regex: /[\\*_]([^\\*_]+?)[\\*_](?!\\*)/,\n                template: '<em>{data}</em>',\n                singleLine: false\n            },\n            strongEm: {\n                regex: /[\\*_]{2}(.*?)[\\*_]{2}/,\n                template: '<strong>{data}</strong>',\n                singleLine: false\n            },\n            strikeThrough: {\n                regex: /~{2}(.*?)~{2}/,\n                template: '<del>{data}</del>',\n                singleLine: false\n            },\n            ul: {\n                regex: /^[\\*\\-\\+]\\s([^\\n]+)/,\n                template: '<li>{data}</li>',\n                singleLine: false,\n                lineStart: true\n            },\n            ol: {\n                regex: /^\\d+\\.\\s([^\\n]+)/,\n                template: '<li>{data}</li>',\n                singleLine: false,\n                lineStart: true\n            },\n            link: {\n                regex: /\\[(^\\])+\\]\\([(^\\)]+\\)/,\n                template: '<a href=\"{data[1]}\">{data[0]}</a>',\n                singleLine: false\n            },\n            img: {\n                regex: /!\\[(^\\])+\\]\\([(^\\)]+\\)/,\n                template: '<img src=\"{data[1]}\" alt=\"{data[0]}\">',\n                singleLine: false\n            },\n            blockquote: {\n                regex: /\\>\\s([^\\n]+)/,\n                template: '<blockquote>{data}</blockquote>',\n                singleLine: false,\n                lineStart: true\n            },\n            code: {\n                regex: /`([^`]+)`/,\n                template: '<code>{data}</code>',\n                singleLine: false\n            },\n            pre: {\n                regex: /```(\\w+)([^`]+)```/,\n                template: '<pre>{data[1]}</pre>',\n                singleLine: false\n            },\n        }\n\n        for (let i = 1; i <= 6; i++) {\n            const reg = '^' + '#'.repeat(i) + '\\\\s([^\\\\n]+)';\n            this.markPattern['h' + i] = {\n                regex: new RegExp(reg),\n                template: `<h${i}>{data}</h${i}>`,\n                singleLine: false,\n                lineStart: true\n            };\n        }\n\n        console.log(this.markPattern);\n\n        this.init();\n    }\n\n    init () {\n\n        this.textarea = new g.vdom('textarea', {\n            class: 'g-MarkDown'\n        }, [ this.parent.innerHTML ]).render();\n\n        this.textarea.addEventListener('keyup', e => {\n            this.value = this.textarea.value;\n            \n            this.parse(this.value);\n        })\n\n        this.parent.appendChild(this.textarea);\n        // this.data.setAttribute('contenteditable', true);\n        \n        // this.mutation = new MutationObserver(function(mutations) {\n        //     mutations.forEach(function(mutation) {\n        //         console.log(mutation, mutation.type);\n        //     });    \n        // });\n        // this.mutation.observe(this.data, { \n        //     // attributes: true, \n        //     childList: true, \n        //     characterData: true,\n        //     subtree: true\n        // });\n    }\n\n    update () {\n        this.parse(this.textarea.value);\n    }\n\n    parse (newVal) {\n        const lines = newVal.split('\\n\\n');\n        const linesParsed = [];\n\n        lines.forEach(line => {\n\n            line = this.parseLine(line);\n            linesParsed.push(line);\n        });\n\n        this.output.innerHTML = linesParsed.join('\\n');\n    }\n\n    parseLine (line) {\n\n        let isBlockEle = false;\n        let isQuote = false; \n\n        for (let key in this.markPattern) {\n\n            const pattern = this.markPattern[key];\n\n            if (!pattern.regex.test(line)) {\n                continue;\n            }\n\n            if (pattern.singleLine) {\n                line = line.replace(pattern.regex, pattern.template);\n                linesParsed.push(line);\n                return;\n            }\n            \n            if (pattern.lineStart) {\n\n                if (key === 'blockquote') {\n                    const quoteList = [];\n                    const matches = line.match(new RegExp(pattern.regex, 'g'));\n                    // console.log(matches);\n                    matches.forEach(match => {\n                        const filtered = match.replace(/>\\s/, '');\n                        quoteList.push(this.parseLine(filtered));\n                    });\n\n                    line = pattern.template.replace('{data}', quoteList.join('\\n'));\n\n                    continue;\n                }\n\n                const filtered = pattern.template.replace('{data}', RegExp.$1);\n                \n                line = line.replace(RegExp.$_, filtered);\n\n                isBlockEle = true;\n\n                continue;\n                // line = line.replace(match[0], newContent);\n            }\n            console.log(RegExp.$1, RegExp.$_);\n            const matches = line.match(new RegExp(pattern.regex, 'g'));\n            matches.forEach(match => {\n                line = line.replace(match, pattern.template.replace('{data}', RegExp.$1));\n            });\n        }\n\n        if (!isBlockEle) {\n            return `<p>${line}</p>`;\n        } else {\n            return line;\n        }\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/markdown/Markdown.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/markdown/style.scss\n// module id = 347\n// module chunks = 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/markdown/style.scss\n// module id = 360\n// module chunks = 7","module.exports = \"<div class=markdown> <div class=content></div> <div class=out></div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/markdown/template.html\n// module id = 375\n// module chunks = 7"],"sourceRoot":""}