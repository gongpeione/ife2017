{"version":3,"sources":["webpack:///3.index.js","webpack:///./src/nuomi/vue2/style.scss?be44","webpack:///./src/nuomi/vue2/style.scss?d54a*","webpack:///./src/nuomi/vue2/Observer.js","webpack:///./src/nuomi/vue2/template.html","webpack:///./src/nuomi/vue2/index.js"],"names":["webpackJsonp","315","module","exports","__webpack_require__","push","i","316","content","locals","320","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","Observer","this","data","watchers","walk","val","_this","get","console","log","set","newVal","_this2","keys","forEach","observe","prop","callback","arguments","undefined","default","344","92","_interopRequireDefault","__esModule","_asyncToGenerator","fn","gen","apply","Promise","resolve","reject","step","arg","info","error","done","then","err","create","parent","option","_gtool","g","$","innerHTML","_template2","oldConsole","outputList","output","isCommand","app1","_Observer2","name","age","cellphone","1","2","$watch","playCommand","addList","input","addEventListener","e","keyCode","CONST","KEY_CODE","ENTER","command","test","eval","outputEle","scrollTop","scrollHeight","_ref","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","r","j","setTimeout","stop","_x4","_template","_Observer"],"mappings":"AAAAA,cAAc,EAAE,KAEVC,IACA,SAAUC,EAAQC,EAASC,GCHjCD,EAAAD,EAAAC,QAAAC,EAAA,OAKAD,EAAAE,MAAAH,EAAAI,EAAA,kdAAye,MDYneC,IACA,SAAUL,EAAQC,EAASC,GEfjC,GAAAI,GAAAJ,EAAA,IACA,iBAAAI,SAAAN,EAAAI,EAAAE,EAAA,KAEAJ,GAAA,KAAAI,KACAA,GAAAC,SAAAP,EAAAC,QAAAK,EAAAC,SFqCMC,IACA,SAAUR,EAAQC,EAASC,GAEjC,YAWA,SAASO,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCARhHC,OAAOC,eAAeb,EAAS,cAC3Bc,OAAO,GAGX,IAAIC,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOI,UAAY,eAAkBF,IAElQG,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIrB,GAAI,EAAGA,EAAIqB,EAAMC,OAAQtB,IAAK,CAAE,GAAIuB,GAAaF,EAAMrB,EAAIuB,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMjB,OAAOC,eAAeU,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUhB,EAAaqB,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBZ,EAAYU,UAAWW,GAAiBC,GAAaV,EAAiBZ,EAAasB,GAAqBtB,MGxD3gBuB,EH4DN,WG3DX,QAAAA,GAAaf,GAAKV,EAAA0B,KAAAD,GACdC,KAAKhB,IAAMgB,KAAKC,KAAOjB,EAEvBgB,KAAKE,YAELF,KAAKG,KAAKH,KAAKhB,KHmHnB,MAlDAG,GAAaY,IACTH,IAAK,UACLhB,MAAO,SGhEFI,EAAKY,EAAKQ,GAAK,GAAAC,GAAAL,IAEpBA,MAAKG,KAAKC,GAEV1B,OAAOC,eAAeK,EAAKY,GACvBH,YAAY,EACZC,cAAc,EACdY,IAAK,WAED,MADAC,SAAQC,IAAR,QAAoBZ,GACbQ,GAEXK,IAAK,SAACC,GAEoB,YAAlB,mBAAOA,GAAP,YAAA7B,EAAO6B,KACPL,EAAKF,KAAKO,GAEdH,QAAQC,IAAR,QAAoBZ,EAApB,SAAgCc,GAG5BL,EAAKH,SAASN,IACdS,EAAKH,SAASN,GAAKc,GAEvBN,EAAMM,QHqEdd,IAAK,OACLhB,MAAO,SGjELqB,GAAM,GAAAU,GAAAX,IAEHC,IAAwB,YAAhB,mBAAOA,GAAP,YAAApB,EAAOoB,KAIpBvB,OAAOkC,KAAKX,GAAMY,QAAQ,SAAAjB,GACtBe,EAAKG,QAAQb,EAAML,EAAKK,EAAKL,SHsEjCA,IAAK,SACLhB,MAAO,SGnEHmC,GAA2B,GAArBC,GAAqBC,UAAA1B,OAAA,GAAA2B,SAAAD,UAAA,GAAAA,UAAA,GAAV,YACrBjB,MAAKE,SAASa,GAAQC,MHyEnBjB,IAGXjC,GAAQqD,QG5HapB,GHgIfqB,IACA,SAAUvD,EAAQC,GIjIxBD,EAAAC,QAAA,iIJuIMuD,GACA,SAAUxD,OAAQC,QAASC,qBAEjC,YAiEA,SAASuD,wBAAuBtC,GAAO,MAAOA,IAAOA,EAAIuC,WAAavC,GAAQmC,QAASnC,GAEvF,QAASwC,mBAAkBC,GAAM,MAAO,YAAc,GAAIC,GAAMD,EAAGE,MAAM3B,KAAMiB,UAAY,OAAO,IAAIW,SAAQ,SAAUC,EAASC,GAAU,QAASC,GAAKnC,EAAKoC,GAAO,IAAM,GAAIC,GAAOP,EAAI9B,GAAKoC,GAAUpD,EAAQqD,EAAKrD,MAAS,MAAOsD,GAAwB,WAAfJ,GAAOI,GAAkB,MAAID,GAAKE,SAAQN,GAAQjD,GAAwBgD,QAAQC,QAAQjD,GAAOwD,KAAK,SAAUxD,GAASmD,EAAK,OAAQnD,IAAW,SAAUyD,GAAON,EAAK,QAASM,KAAc,MAAON,GAAK,WKxMlb,QAASO,QAAQC,QAAqB,GAAbC,QAAavB,UAAA1B,OAAA,GAAA2B,SAAAD,UAAA,GAAAA,UAAA,KACzCsB,QAA2B,gBAAXA,QAAsBE,OAAAC,EAAEC,EAAEJ,QAAUA,OAEpDA,OAAOK,UAAPC,WAAA1B,OAEA,IAAM2B,YAAavC,QAAQC,IACrBuC,aACNxC,SAAQC,IAAM,SAACwC,GAA8B,GAAtBC,GAAsBhC,UAAA1B,OAAA,GAAA2B,SAAAD,UAAA,IAAAA,UAAA,EACrCgC,GACAF,WAAW/E,KAAX,uCAAuDgF,EAAvD,UAEAD,WAAW/E,KAAX,uBAAuCgF,EAAvC,WAIRzC,QAAQC,IAAR,gLAOM,EACN,IAAI0C,MAAO,GAAAC,YAAAhC,SACPiC,KAAM,YACNC,IAAK,GACLC,WACIC,EAAK,WACLC,EAAK,aAIbjD,SAAQC,IAAR,yFAEM,GACN0C,KAAKO,OAAO,OAAQ,SAAA/C,GAChBH,QAAQC,IAAI,aAAeE,KAG/BH,QAAQC,IAAR,0FAGI,GACJ0C,KAAKjD,KAAKqD,WACNC,EAAK,gBACLC,EAAK,YAGTjD,QAAQC,IAAI,wBAAwB,GACpC0C,KAAKjD,KAAKoD,IAAM,IAEhB9C,QAAQC,IAAI,kBAAkB,GAC9B0C,KAAKjD,KAAKmD,KAAO,SAEjBM,YAAYX,YAEZxC,QAAQC,IAAM,SAACwC,GAA8B,GAAtBC,GAAsBhC,UAAA1B,OAAA,GAAA2B,SAAAD,UAAA,IAAAA,UAAA,EAErC0C,SADAV,EACAU,uCAA+CX,EAA/C,SAEAW,uBAA+BX,EAA/B,UAGR,IAAMY,OAAQnB,OAAAC,EAAEC,EAAE,iBAClBiB,OAAMC,iBAAiB,QAAS,SAAAC,GAC5B,GAAIA,EAAEC,UAAYtB,OAAAuB,MAAMC,SAASC,MAAO,CAEpC,GAAMC,SAAUP,MAAMhF,KACtB2B,SAAQC,IAAI2D,SAAS,GAEjB,mCAAmCC,KAAKD,SACxCE,KAAKF,SAEL5D,QAAQC,IAAI,6BAGhBoD,MAAMhF,MAAQ,MAe1B,QAAS+E,SAASX,GACd,GAAMsB,GAAY7B,OAAAC,EAAEC,EAAE,mBACtB2B,GAAU1B,WAAaI,EACvBsB,EAAUC,UAAYD,EAAUE,aL0CpC9F,OAAOC,eAAeb,QAAS,cAC3Bc,OAAO,GAGX,IAAI8E,aAAc,WACd,GAAIe,GAAOjD,kBAAkBkD,mBAAmBC,KK1DpD,QAAAC,GAA4B7B,GAA5B,GAAA9E,EAAA,OAAAyG,oBAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEY/G,EAAI,CAFhB,aAEmBA,EAAI8E,EAAWxD,QAFlC,CAAAuF,EAAAE,KAAA,cAAAF,GAAAE,KAAA,EAGc,GAAIpD,SAAQ,SAACqD,EAAGC,GAAQC,WAAW,WAAQF,KAAQ,MAHjE,cAAAH,GAAAE,KAAA,EAIcrB,QAAQZ,EAAW9E,GAJjC,QAE0CA,IAF1C6G,EAAAE,KAAA,+BAAAF,GAAAM,SAAAR,EAAA5E,QLgGI,OAAO,UAAqBqF,GACxB,MAAOZ,GAAK9C,MAAM3B,KAAMiB,cAIhCnD,SKxLgBwE,aALhB,IAAAgD,WAAAvH,oBAAA,KLiMI8E,WAAavB,uBAAuBgE,WKhMxC7C,OAAA1E,oBAAA,GACAA,qBAAA,IACA,IAAAwH,WAAAxH,oBAAA,KLsMIoF,WAAa7B,uBAAuBiE","file":"3.index.js","sourcesContent":["webpackJsonp([3,10],{\n\n/***/ 315:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(313)();\n// imports\n\n\n// module\nexports.push([module.i, \".console{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden;background:#eee;border-radius:3px;width:60%}.console div{padding:5px 8px;background:#223348;border-bottom:1px solid #404446;color:#fff}.console div span{color:hsla(0,0%,100%,.4);margin-right:5px}.console div.command{color:#8fb0bb}.console input{border:none;width:100%;background:#404446;padding:5px 10px;outline:none;color:#eee}.console .output{height:400px;overflow:auto}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 316:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(315);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(314)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 320:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Observer = function () {\n    function Observer(obj) {\n        _classCallCheck(this, Observer);\n\n        this.obj = this.data = obj;\n\n        this.watchers = {};\n\n        this.walk(this.obj);\n    }\n\n    _createClass(Observer, [{\n        key: 'observe',\n        value: function observe(obj, key, val) {\n            var _this = this;\n\n            this.walk(val);\n\n            Object.defineProperty(obj, key, {\n                enumerable: true,\n                configurable: false,\n                get: function get() {\n                    console.log('\\u4F60\\u8BBF\\u95EE\\u4E86 ' + key);\n                    return val;\n                },\n                set: function set(newVal) {\n\n                    if ((typeof newVal === 'undefined' ? 'undefined' : _typeof(newVal)) === 'object') {\n                        _this.walk(newVal);\n                    }\n                    console.log('\\u4F60\\u8BBE\\u7F6E\\u4E86 ' + key + '\\uFF0C\\u65B0\\u7684\\u503C\\u4E3A ' + newVal);\n\n                    if (_this.watchers[key]) {\n                        _this.watchers[key](newVal);\n                    }\n                    val = newVal;\n                }\n            });\n        }\n    }, {\n        key: 'walk',\n        value: function walk(data) {\n            var _this2 = this;\n\n            if (!data || (typeof data === 'undefined' ? 'undefined' : _typeof(data)) !== 'object') {\n                return;\n            }\n\n            Object.keys(data).forEach(function (key) {\n                _this2.observe(data, key, data[key]);\n            });\n        }\n    }, {\n        key: '$watch',\n        value: function $watch(prop) {\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n            this.watchers[prop] = callback;\n        }\n    }]);\n\n    return Observer;\n}();\n\nexports.default = Observer;\n\n/***/ }),\n\n/***/ 344:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=console> <div class=output></div> <input type=text placeholder=\\\"仅支持 app1.data.xxx 或 app1.data.xxx = xx 命令\\\"> </div>\";\n\n/***/ }),\n\n/***/ 92:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar playCommand = function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(outputList) {\n        var i;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        i = 0;\n\n                    case 1:\n                        if (!(i < outputList.length)) {\n                            _context.next = 9;\n                            break;\n                        }\n\n                        _context.next = 4;\n                        return new Promise(function (r, j) {\n                            setTimeout(function () {\n                                r();\n                            }, 200);\n                        });\n\n                    case 4:\n                        _context.next = 6;\n                        return addList(outputList[i]);\n\n                    case 6:\n                        i++;\n                        _context.next = 1;\n                        break;\n\n                    case 9:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, this);\n    }));\n\n    return function playCommand(_x4) {\n        return _ref.apply(this, arguments);\n    };\n}();\n\nexports.create = create;\n\nvar _template = __webpack_require__(344);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _gtool = __webpack_require__(59);\n\n__webpack_require__(316);\n\nvar _Observer = __webpack_require__(320);\n\nvar _Observer2 = _interopRequireDefault(_Observer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction create(parent) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n\n    parent.innerHTML = _template2.default;\n\n    var oldConsole = console.log;\n    var outputList = [];\n    console.log = function (output) {\n        var isCommand = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (isCommand) {\n            outputList.push('<div class=\"command\"><span>> </span>' + output + '</div>');\n        } else {\n            outputList.push('<div><span>< </span>' + output + '</div>');\n        }\n    };\n\n    console.log('let app1 = new Observer({\\n        name: \\'youngwind\\',\\n        age: 25,\\n        cellphone: {\\n            \\'1\\': \\'iPhone 7\\',\\n            \\'2\\': \\'Pixel XL\\'\\n        }\\n    });', true);\n    var app1 = new _Observer2.default({\n        name: 'youngwind',\n        age: 25,\n        cellphone: {\n            '1': 'iPhone 7',\n            '2': 'Pixel XL'\n        }\n    });\n\n    console.log('app1.$watch(\\'name\\', newVal => {\\n        console.log(\\'[Watcher] \\' + newVal);\\n    });', true);\n    app1.$watch('name', function (newVal) {\n        console.log('[Watcher] ' + newVal);\n    });\n\n    console.log('app1.data.cellphone = {\\n        \\'1\\': \\'iPhone 7 plus\\',\\n        \\'2\\': \\'Pixel XL\\'\\n    }', true);\n    app1.data.cellphone = {\n        '1': 'iPhone 7 plus',\n        '2': 'Pixel XL'\n    };\n\n    console.log('app1.data.age = 100;', true);\n    app1.data.age = 100;\n\n    console.log('app1.data.name', true);\n    app1.data.name = \"Hai Su\";\n\n    playCommand(outputList);\n\n    console.log = function (output) {\n        var isCommand = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (isCommand) {\n            addList('<div class=\"command\"><span>> </span>' + output + '</div>');\n        } else {\n            addList('<div><span>< </span>' + output + '</div>');\n        }\n    };\n    var input = _gtool.g.$('.console input');\n    input.addEventListener('keyup', function (e) {\n        if (e.keyCode === _gtool.CONST.KEY_CODE.ENTER) {\n\n            var command = input.value;\n            console.log(command, true);\n\n            if (/app1\\.data\\.(\\w+)+?\\s?=?('.*?')?/.test(command)) {\n                eval(command);\n            } else {\n                console.log(\"[warning] Command illegal\");\n            }\n\n            input.value = '';\n        }\n    });\n}\n\nfunction addList(output) {\n    var outputEle = _gtool.g.$('.console .output');\n    outputEle.innerHTML += output;\n    outputEle.scrollTop = outputEle.scrollHeight;\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 3.index.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".console{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden;background:#eee;border-radius:3px;width:60%}.console div{padding:5px 8px;background:#223348;border-bottom:1px solid #404446;color:#fff}.console div span{color:hsla(0,0%,100%,.4);margin-right:5px}.console div.command{color:#8fb0bb}.console input{border:none;width:100%;background:#404446;padding:5px 10px;outline:none;color:#eee}.console .output{height:400px;overflow:auto}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/vue2/style.scss\n// module id = 315\n// module chunks = 2 3 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/vue2/style.scss\n// module id = 316\n// module chunks = 2 3 4","export default class Observer {\n    constructor (obj) {\n        this.obj = this.data = obj;\n\n        this.watchers = {};\n\n        this.walk(this.obj);\n    }\n\n    observe (obj, key, val) {\n\n        this.walk(val);\n\n        Object.defineProperty(obj, key, {\n            enumerable: true,\n            configurable: false,\n            get: () => {\n                console.log(`你访问了 ${key}`);\n                return val;\n            },\n            set: (newVal) => {\n                \n                if (typeof newVal === 'object') {\n                    this.walk(newVal);\n                }\n                console.log(`你设置了 ${key}，新的值为 ${newVal}`);\n\n                // console.log('watchers', this.watchers[key]);\n                if (this.watchers[key]) {\n                    this.watchers[key](newVal);\n                }\n                val = newVal;\n            },\n        });\n    }\n\n    walk (data) {\n        // console.log(data);\n        if (!data || typeof data !== 'object') {\n            return;\n        }\n\n        Object.keys(data).forEach(key => {\n            this.observe(data, key, data[key]);\n        });\n    }\n\n    $watch (prop, callback = () => {}) {\n        this.watchers[prop] = callback;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/vue2/Observer.js","module.exports = \"<div class=console> <div class=output></div> <input type=text placeholder=\\\"仅支持 app1.data.xxx 或 app1.data.xxx = xx 命令\\\"> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/vue2/template.html\n// module id = 344\n// module chunks = 3","import template from './template.html';\nimport { g, CONST } from '../../gtool';\nimport './style.scss';\nimport Observer from './Observer';\n\nexport function create (parent, option = []) {\n    parent = typeof parent === 'string' ? g.$(parent) : parent;\n\n    parent.innerHTML = template;\n\n    const oldConsole = console.log;\n    const outputList = [];\n    console.log = (output, isCommand = false) => {\n        if (isCommand) {\n            outputList.push(`<div class=\"command\"><span>> </span>${output}</div>`);\n        } else {\n            outputList.push(`<div><span>< </span>${output}</div>`);\n        }\n    };\n\n    console.log(`let app1 = new Observer({\n        name: 'youngwind',\n        age: 25,\n        cellphone: {\n            '1': 'iPhone 7',\n            '2': 'Pixel XL'\n        }\n    });`, true);\n    let app1 = new Observer({\n        name: 'youngwind',\n        age: 25,\n        cellphone: {\n            '1': 'iPhone 7',\n            '2': 'Pixel XL'\n        }\n    });\n\n    console.log(`app1.$watch('name', newVal => {\n        console.log('[Watcher] ' + newVal);\n    });`, true);\n    app1.$watch('name', newVal => {\n        console.log('[Watcher] ' + newVal);\n    });\n    \n    console.log(`app1.data.cellphone = {\n        '1': 'iPhone 7 plus',\n        '2': 'Pixel XL'\n    }`, true);\n    app1.data.cellphone = {\n        '1': 'iPhone 7 plus',\n        '2': 'Pixel XL'\n    }\n\n    console.log('app1.data.age = 100;', true);\n    app1.data.age = 100;  // 你设置了 age，新的值为100\n\n    console.log('app1.data.name', true);\n    app1.data.name = \"Hai Su\";\n\n    playCommand(outputList);\n\n    console.log = (output, isCommand = false) => {\n        if (isCommand) {\n            addList(`<div class=\"command\"><span>> </span>${output}</div>`);\n        } else {\n            addList(`<div><span>< </span>${output}</div>`);\n        }\n    };\n    const input = g.$('.console input');\n    input.addEventListener('keyup', e => {\n        if (e.keyCode === CONST.KEY_CODE.ENTER) {\n            \n            const command = input.value;\n            console.log(command, true);\n\n            if (/app1\\.data\\.(\\w+)+?\\s?=?('.*?')?/.test(command)) {\n                eval(command);\n            } else {\n                console.log(\"[warning] Command illegal\");\n            }\n\n            input.value = '';\n        }\n    });\n\n    // console.log = oldConsole;\n}\n\nasync function playCommand (outputList) {\n    // console.log(outputList);\n    for(let i = 0; i < outputList.length; i++) {\n        await new Promise((r, j) => { setTimeout(() => { r() } , 200); });\n        await addList(outputList[i]);\n    }\n}\n\nfunction addList (output) {\n    const outputEle = g.$('.console .output');\n    outputEle.innerHTML += output;\n    outputEle.scrollTop = outputEle.scrollHeight;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/vue2/index.js"],"sourceRoot":""}