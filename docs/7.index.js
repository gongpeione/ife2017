webpackJsonp([7,15],{126:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e="string"==typeof e?o.g.$(e):e,e.innerHTML=s.default,new u.default(".markdown .content",".out")}Object.defineProperty(t,"__esModule",{value:!0}),t.create=i;var a=n(375),s=r(a),o=n(59);n(360);var l=n(327),u=r(l)},327:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(59),o=function(){function e(t,n){i(this,e),this.parent="string"==typeof t?s.g.$(t):t,this.children=[],this.html=new s.g.vdom("div",{class:"g-mark"},[].concat(r(this.children))),this.contentList=[],this.value="",n&&(this.output="string"==typeof n?s.g.$(n):n),this.pattern={link:/https?:\/\/(.*?)/},this.markPattern={separator:{regex:/[\-=\*]{3,}/,template:"<hr>",singleLine:!0,lineStart:!0},emphasis:{regex:/[\*_]([^\*_]+?)[\*_](?!\*)/,template:"<em>$1</em>",singleLine:!1},strongEm:{regex:/[\*_]{2}(.*?)[\*_]{2}/,template:"<strong>$1</strong>",singleLine:!1},strikeThrough:{regex:/~{2}(.*?)~{2}/,template:"<del>$1</del>",singleLine:!1},ul:{regex:/^[\*\-\+]\s([^\n]+)/,template:"<li>$1</li>",singleLine:!1,lineStart:!0},ol:{regex:/^\d+\.\s([^\n]+)/,template:"<li>$1</li>",singleLine:!1,lineStart:!0},link:{regex:/(?:[^!]|^)\[([^\]]+?)\]\(([^\)]+?)\)/,template:'<a href="$1">$2</a>',singleLine:!1},img:{regex:/!\[([^\]]*?)\]\(([^\)]+?)\)/,template:'<img alt="$1" src="$2">',singleLine:!1},blockquote:{regex:/\>\s([^\n]+)/,template:"<blockquote>$1</blockquote>",singleLine:!1,lineStart:!0},code:{regex:/`([^`\n]+)`/,template:"<code>$1</code>",singleLine:!1},pre:{regex:/```(\w+)([^`]+?)```/,template:'<pre class="$1">$2</pre>',singleLine:!1}};for(var a=1;a<=6;a++){var o="^s*?"+"#".repeat(a)+"\\s([^\\n]+)";this.markPattern["h"+a]={regex:new RegExp(o),template:"<h"+a+">{data}</h"+a+">",singleLine:!1,lineStart:!0}}console.log(this.markPattern),this.init()}return a(e,[{key:"init",value:function(){var e=this;this.textarea=new s.g.vdom("textarea",{class:"g-MarkDown"},[this.parent.innerHTML]).render(),this.textarea.addEventListener("keyup",function(t){e.value=e.textarea.value,e.parse(e.value)}),this.parent.innerHTML="",this.parent.appendChild(this.textarea),this.update()}},{key:"update",value:function(){this.parse(this.textarea.value)}},{key:"parse",value:function(e){var t=this,n=e.split("\n\n"),r=[];n.forEach(function(e){e=t.parseLine(e),r.push(e)}),this.output.innerHTML=r.join("\n")}},{key:"parseLine",value:function(e){var t=this,n=!1;for(var r in this.markPattern){var i=this.markPattern[r];if(i.regex.test(e)){if(i.singleLine)return e=e.replace(i.regex,i.template);if(i.lineStart){if("blockquote"===r){var a=function(){var n=[],r=e.match(new RegExp(i.regex,"g"));return r.forEach(function(e){var r=e.replace(/>\s/,"");n.push(t.parseLine(r))}),e=i.template.replace("$1",n.join("\n")),"continue"}();if("continue"===a)continue}var s=i.template.replace("{data}",RegExp.$1);e=e.replace(RegExp.$_,s),n=!0}else e=e.replace(new RegExp(i.regex,"g"),i.template)}}return n?e:"<p>"+e+"</p>"}}]),e}();t.default=o},347:function(e,t,n){t=e.exports=n(318)(),t.push([e.i,".markdown{height:100%;overflow:auto;display:flex}.markdown .content{flex:1}.markdown .content textarea{width:100%;height:100%;max-width:100%;max-height:100%}.markdown .out{flex:2;height:100%;overflow:auto;padding:.2rem .3rem}",""])},360:function(e,t,n){var r=n(347);"string"==typeof r&&(r=[[e.i,r,""]]);n(319)(r,{});r.locals&&(e.exports=r.locals)},375:function(e,t){e.exports="<div class=markdown> <div class=content> # h1 ## h2 ### h3 #### h4 ##### h5 ###### h6 --- Code: `code`, em: *em*, strong: **strong**, strike through: ~~through~~ --- [Link](https://google.com) ![img](https://ww4.sinaimg.cn/large/006tNc79gy1fdk3zs7r9nj308c08cdi7.jpg) > Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reiciendis veniam recusandae maiores aperiam? Vero amet iste aliquam, architecto sapiente ipsum provident, adipisci molestiae. Incidunt natus, tempora ratione atque praesentium >assumenda! pre: ```javascript alert(1) ``` </div> <div class=out></div> </div>"}});
//# sourceMappingURL=7.index.js.map