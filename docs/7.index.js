webpackJsonp([7,15],{126:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e="string"==typeof e?l.g.$(e):e,e.innerHTML=o.default,new u.default(".markdown .content",".out")}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r;var i=n(375),o=a(i),l=n(59);n(360);var s=n(327),u=a(s)},327:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(59),s=function(){function e(t,n){r(this,e),this.parent="string"==typeof t?l.g.$(t):t,this.children=[],this.html=new l.g.vdom("div",{class:"g-mark"},[].concat(a(this.children))),this.contentList=[],this.value="",n&&(this.output="string"==typeof n?l.g.$(n):n),this.pattern={link:/https?:\/\/(.*?)/},this.markPattern={separator:{regex:/[\-=\*]{3,}/,template:"<hr>",singleLine:!0,lineStart:!0},emphasis:{regex:/\s[\*_]([^\*_]+?)[\*_]\s/,template:"<em>{data}</em>",singleLine:!1},strongEm:{regex:/\s[\*_]{2}(.*?)[\*_]{2}\s/,template:"<strong>{data}</strong>",singleLine:!1},strikeThrough:{regex:/~{2}(.*?)~{2}/,template:"<del>{data}</del>",singleLine:!1},ul:{regex:/^[\*\-\+]\s([^\n]+)/,template:"<li>{data}</li>",singleLine:!1,lineStart:!0},ol:{regex:/^\d+\.\s([^\n]+)/,template:"<li>{data}</li>",singleLine:!1,lineStart:!0},link:{regex:/\[(^\])+\]\([(^\)]+\)/,template:'<a href="{data[1]}">{data[0]}</a>',singleLine:!1},img:{regex:/!\[(^\])+\]\([(^\)]+\)/,template:'<img src="{data[1]}" alt="{data[0]}">',singleLine:!1},blockquote:{regex:/\>\s([^\n]+)/,template:"<blockquote>{data}</blockquote>",singleLine:!1,lineStart:!0},code:{regex:/`([^`]+)`/,template:"<code>{data}</code>",singleLine:!1},pre:{regex:/```(\w+)([^`]+)```/,template:"<pre>{data[1]}</pre>",singleLine:!1}};for(var i=1;i<=6;i++){var o="^"+"#".repeat(i)+"\\s([^\\n]+)";this.markPattern["h"+i]={regex:new RegExp(o),template:"<h"+i+">{data}</h"+i+">",singleLine:!1,lineStart:!0}}console.log(this.markPattern),this.init()}return o(e,[{key:"init",value:function(){var e=this;this.textarea=new l.g.vdom("textarea",{class:"g-MarkDown"},[this.parent.innerHTML]).render(),this.textarea.addEventListener("keyup",function(t){e.value=e.textarea.value,e.parse(e.value)}),this.parent.appendChild(this.textarea)}},{key:"update",value:function(){this.parse(this.textarea.value)}},{key:"parse",value:function(e){var t=this,n=e.split("\n\n"),a=[];n.forEach(function(e){var n=!1,r=function(r){var i=t.markPattern[r];if(!i.regex.test(e))return"continue";if(i.singleLine)return e=e.replace(i.regex,i.template),a.push(e),{v:void 0};if(i.lineStart){if("blockquote"===r){var o=[],l=e.match(new RegExp(i.regex,"g"));return console.log(l),l.forEach(function(e){var t=e.replace(/>\s/,"");o.push("<p>"+t+"</p>")}),e=i.template.replace("{data}",o.join("\n")),"continue"}var s=e.match(i.regex);return e=i.template.replace("{data}",s[1]),n=!0,"continue"}var u=e.match(new RegExp(i.regex,"g"));u.forEach(function(t){e=e.replace(t,i.template.replace("{data}",RegExp.$1))})};for(var o in t.markPattern){var l=r(o);switch(l){case"continue":continue;default:if("object"===("undefined"==typeof l?"undefined":i(l)))return l.v}}n?a.push(e):a.push("<p>"+e+"</p>")}),this.output.innerHTML=a.join("\n")}}]),e}();t.default=s},347:function(e,t,n){t=e.exports=n(318)(),t.push([e.i,"",""])},360:function(e,t,n){var a=n(347);"string"==typeof a&&(a=[[e.i,a,""]]);n(319)(a,{});a.locals&&(e.exports=a.locals)},375:function(e,t){e.exports="<div class=markdown> <div class=content></div> <div class=out></div> </div>"}});
//# sourceMappingURL=7.index.js.map