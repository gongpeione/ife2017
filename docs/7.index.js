webpackJsonp([7,15],{126:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e="string"==typeof e?s.g.$(e):e,e.innerHTML=o.default,new u.default(".markdown .content",".out")}Object.defineProperty(t,"__esModule",{value:!0}),t.create=i;var a=n(375),o=r(a),s=n(59);n(360);var l=n(327),u=r(l)},327:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(59),l=function(){function e(t,n){i(this,e),this.parent="string"==typeof t?s.g.$(t):t,this.children=[],this.html=new s.g.vdom("div",{class:"g-mark"},[].concat(r(this.children))),this.contentList=[],this.value="",n&&(this.output="string"==typeof n?s.g.$(n):n),this.pattern={link:/https?:\/\/(.*?)/},this.markPattern={separator:{regex:/[\-=\*]{3,}/,template:"<hr>",singleLine:!0,lineStart:!0},emphasis:{regex:/[\*_]([^\*_]+?)[\*_](?!\*)/,template:"<em>$1</em>",singleLine:!1},strongEm:{regex:/[\*_]{2}(.*?)[\*_]{2}/,template:"<strong>$1</strong>",singleLine:!1},strikeThrough:{regex:/~{2}(.*?)~{2}/,template:"<del>$1</del>",singleLine:!1},ul:{regex:/[\*\-\+]\s([^\n]+)/,template:"<ul>$1</ul>",singleLine:!1,lineStart:!0},ol:{regex:/\d+\.\s([^\n]+)/,template:"<ol>$1</ol>",singleLine:!1,lineStart:!0},link:{regex:/(?:[^!]|^)\[([^\]]+?)\]\(([^\)]+?)\)/,template:'<a href="$1">$2</a>',singleLine:!1},img:{regex:/!\[([^\]]*?)\]\(([^\)]+?)\)/,template:'<img alt="$1" src="$2">',singleLine:!1},blockquote:{regex:/\>\s([^\n]+)/,template:"<blockquote>$1</blockquote>",singleLine:!1,lineStart:!0},code:{regex:/`([^`\n]+)`/,template:"<code>$1</code>",singleLine:!1},pre:{regex:/```(\w+)([^`]+?)```/,template:'<pre class="$1">$2</pre>',singleLine:!1}};for(var a=1;a<=6;a++){var o="^s*?"+"#".repeat(a)+"\\s([^\\n]+)";this.markPattern["h"+a]={regex:new RegExp(o),template:"<h"+a+">{data}</h"+a+">",singleLine:!1,lineStart:!0}}console.log(this.markPattern),this.init()}return o(e,[{key:"init",value:function(){var e=this;this.textarea=new s.g.vdom("textarea",{class:"g-MarkDown"},[this.parent.innerHTML]).render(),this.textarea.addEventListener("keyup",function(t){e.value=e.textarea.value,e.parse(e.value)}),this.parent.innerHTML="",this.parent.appendChild(this.textarea),this.update()}},{key:"update",value:function(){this.parse(this.textarea.value)}},{key:"parse",value:function(e){var t=this,n=e.split(/\n{2,}/),r=[];n.forEach(function(e){e=t.parseLine(e),r.push(e)});var i=r.join("\n");return this&&this.output&&(this.output.innerHTML=i),i}},{key:"parseLine",value:function(e){var t=this,n=!1,r=function(r){var i=t.markPattern[r];if(!i.regex.test(e))return"continue";if(i.singleLine)return e=e.replace(i.regex,i.template),{v:e};if(i.lineStart){if(["blockquote","ol","ul"].indexOf(r)>=0){var a=[],o=e.match(new RegExp(i.regex,"g"));return"ul"===r&&console.log(o),o.forEach(function(e){if("blockquote"===r){var n=e.replace(/>\s/,"");a.push(t.parseLine(n))}else{var i=e.replace(/[\*\-\+]|(\d+\.)\s/,"");a.push("<li>"+i+"</li>")}}),console.log(a.join("\n"),i.template,r),e=i.template.replace("$1",a.join("")),"continue"}var s=i.template.replace("{data}",RegExp.$1);return e=e.replace(RegExp.$_,s),n=!0,"continue"}e=e.replace(new RegExp(i.regex,"g"),i.template)};for(var i in this.markPattern){var o=r(i);switch(o){case"continue":continue;default:if("object"===("undefined"==typeof o?"undefined":a(o)))return o.v}}return n?e:"<p>"+e+"</p>"}}]),e}();t.default=l},347:function(e,t,n){t=e.exports=n(318)(),t.push([e.i,".markdown{height:100%;overflow:hidden;display:flex}.markdown .content{flex:1}.markdown .content textarea{width:100%;height:100%;max-width:100%;max-height:100%;border:none;background:#2a2f31;color:#eee;padding:.1rem;outline:none}.markdown .out{flex:2;height:100%;overflow:auto;padding:.2rem .3rem}",""])},360:function(e,t,n){var r=n(347);"string"==typeof r&&(r=[[e.i,r,""]]);n(319)(r,{});r.locals&&(e.exports=r.locals)},375:function(e,t){e.exports="<div class=markdown> <div class=content> # h1 ## h2 ### h3 #### h4 ##### h5 ###### h6 --- Code: `code`, em: *em*, strong: **strong**, strike through: ~~through~~ --- [Link](https://google.com) ![img](https://ww4.sinaimg.cn/large/006tNc79gy1fdk3zs7r9nj308c08cdi7.jpg) > Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reiciendis veniam recusandae maiores aperiam? Vero amet iste aliquam, architecto sapiente ipsum provident, adipisci molestiae. Incidunt natus, tempora ratione atque praesentium >assumenda! pre: ```javascript alert(1) ``` </div> <div class=out></div> </div>"}});
//# sourceMappingURL=7.index.js.map