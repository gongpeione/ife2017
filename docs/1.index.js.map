{"version":3,"sources":["webpack:///1.index.js","webpack:///./src/nuomi/contextMenu/index.js","webpack:///./src/nuomi/contextMenu/ContextMenu.js","webpack:///./src/nuomi/contextMenu/ContextMenu.scss","webpack:///./src/nuomi/contextMenu/style.scss","webpack:///./src/nuomi/contextMenu/ContextMenu.scss?3d34","webpack:///./src/nuomi/contextMenu/style.scss?a759","webpack:///./src/nuomi/contextMenu/template.html"],"names":["webpackJsonp","123","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","create","parent","arguments","length","undefined","_gtool","g","$","innerHTML","_template2","container","_ContextMenu2","defaultOption","Object","defineProperty","value","_template","_ContextMenu","class","items","type","title","content","target","alert","disabled","324","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","i","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","ContextMenu","_this","this","options","isHidden","menu","render","appendChild","addEventListener","e","show","position","_getXY","setPosition","x","y","preventDefault","document","hide","_this2","menuList","forEach","item","indexOf","push","separator","link","function","text","className","vdom","option","a","href","list","addEvent","btn","css","toTop","documentElement","scrollTop","body","toLeft","scrollLeft","bodyWidth","width","bodyHeight","height","menuWidth","menuHeight","clientX","clientY","335","336","345","locals","346","356"],"mappings":"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","file":"1.index.js","sourcesContent":["webpackJsonp([1,14],{\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.create = create;\n\nvar _gtool = __webpack_require__(59);\n\nvar _template = __webpack_require__(356);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _ContextMenu = __webpack_require__(324);\n\nvar _ContextMenu2 = _interopRequireDefault(_ContextMenu);\n\n__webpack_require__(346);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction create(parent) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n\n    parent.innerHTML = _template2.default;\n\n    var container = _gtool.g.$('.contentMenu', parent);\n    new _ContextMenu2.default(container, defaultOption);\n}\n\nvar defaultOption = {\n    class: 'context-menu',\n    items: [{\n        type: 'link',\n        title: '百度',\n        content: 'https://www.baidu.com',\n        target: '_blank'\n    }, {\n        type: 'separator'\n    }, {\n        type: 'function',\n        title: 'Alert',\n        content: function content() {\n            return alert(1);\n        }\n    }, {\n        type: 'link',\n        title: 'Disabled',\n        disabled: true\n    }, {\n        type: 'text',\n        title: 'Plain Text',\n        class: 'plain'\n    }]\n};\n\n/***/ }),\n\n/***/ 324:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _gtool = __webpack_require__(59);\n\n__webpack_require__(345);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ContextMenu = function () {\n    function ContextMenu(parent) {\n        var _this = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, ContextMenu);\n\n        this.parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n        this.options = options;\n        this.isHidden = true;\n        this.type = ['separator', 'link', 'function', 'text'];\n\n        this.menu = this.render();\n        this.parent.appendChild(this.menu);\n\n        this.parent.addEventListener('contextmenu', function (e) {\n            _this.show();\n            var position = _this._getXY(e);\n            _this.setPosition(position.x, position.y);\n\n            e.preventDefault();\n            return false;\n        });\n        document.addEventListener('click', function (e) {\n            if (e.target !== _this.menu) {\n                _this.hide();\n            }\n        });\n        document.addEventListener('contextmenu', function (e) {\n            if (e.target !== _this.menu && e.target !== _this.parent) {\n                _this.hide();\n            }\n        });\n    }\n\n    _createClass(ContextMenu, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var menuList = [];\n            this.options.items.forEach(function (item) {\n\n                if (_this2.type.indexOf(item.type) < 0) {\n                    return;\n                }\n                switch (item.type) {\n                    case 'separator':\n                        menuList.push(_this2.separator(item));break;\n                    case 'link':\n                        menuList.push(_this2.link(item));break;\n                    case 'function':\n                        menuList.push(_this2.function(item));break;\n                    case 'text':\n                        menuList.push(_this2.text(item));break;\n\n                    default:\n                        return;\n                }\n            });\n\n            var className = 'g-contextMenu ' + (this.options.class || '');\n            return new _gtool.g.vdom('ul', { class: className }, menuList).render();\n        }\n    }, {\n        key: 'separator',\n        value: function separator(option) {\n            return new _gtool.g.vdom('li', { class: 'separator' });\n        }\n    }, {\n        key: 'link',\n        value: function link(option) {\n\n            var a = new _gtool.g.vdom('a', {\n\n                href: option.content || '',\n                target: option.target ? option.target : '_blank'\n\n            }, [option.title]);\n\n            var list = new _gtool.g.vdom('li', { class: 'link' + (option.disabled ? ' disabled' : '') }, [a]);\n            if (option.disabled) {\n                list.addEvent('click', function (e) {\n                    e.preventDefault();\n                    return false;\n                });\n            }\n\n            return list;\n        }\n    }, {\n        key: 'function',\n        value: function _function(option) {\n            var btn = new _gtool.g.vdom('li', {\n                class: 'function' + (option.disabled ? ' disabled' : '')\n            }, [option.title]);\n\n            if (!option.disabled) {\n                btn.addEvent('click', function (e) {\n                    option.content(e);\n                });\n            }\n\n            return btn;\n        }\n    }, {\n        key: 'text',\n        value: function text(option) {\n            return new _gtool.g.vdom('li', {\n                class: 'text' + (option.disabled ? ' disabled' : '')\n            }, [option.title]);\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            _gtool.g.class(this.menu, 'hide', true);\n            _gtool.g.class(this.menu, 'show');\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            _gtool.g.class(this.menu, 'show', true);\n            _gtool.g.class(this.menu, 'hide');\n        }\n    }, {\n        key: 'setPosition',\n        value: function setPosition(x, y) {\n            _gtool.g.css(this.menu, 'left:' + x + 'px; top:' + y + 'px');\n        }\n    }, {\n        key: '_getXY',\n        value: function _getXY(e) {\n            var toTop = document.documentElement.scrollTop || document.body.scrollTop;\n            var toLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\n            var bodyWidth = _gtool.g.width(document.body);\n            var bodyHeight = _gtool.g.height(document.body);\n            var menuWidth = _gtool.g.width(this.menu);\n            var menuHeight = _gtool.g.height(this.menu);\n\n            var x = e.clientX + toLeft;\n            var y = e.clientY + toTop;\n            if (bodyWidth - x < menuWidth) {\n                x -= menuWidth;\n            }\n            if (bodyHeight - y < menuHeight) {\n                y -= menuHeight;\n            }\n            return { x: x, y: y };\n        }\n    }]);\n\n    return ContextMenu;\n}();\n\nexports.default = ContextMenu;\n\n/***/ }),\n\n/***/ 335:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(317)();\n// imports\n\n\n// module\nexports.push([module.i, \".g-contextMenu{background:#fff;display:none;border-radius:3px;margin:0;padding:5px 0;list-style:none;min-width:200px;position:fixed;border:1px solid #ccc;box-shadow:1px 1px 2px rgba(0,0,0,.2)}.g-contextMenu.show{display:inline-block}.g-contextMenu.hide{display:none}.g-contextMenu li{padding:5px 10px;color:#333}.g-contextMenu li:hover{background:#eee}.g-contextMenu li.separator{border-bottom:1px solid #eee;padding:0;margin:5px 0}.g-contextMenu li.separator:hover{background:transparent}.g-contextMenu li.disabled{color:#999;cursor:not-allowed}.g-contextMenu li.disabled:hover{background:transparent}.g-contextMenu li.disabled a{color:#999;cursor:not-allowed}.g-contextMenu a{color:#333;text-decoration:none;display:block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 336:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(317)();\n// imports\n\n\n// module\nexports.push([module.i, \".contentMenu{width:100%;height:200px;background:#eee;border-radius:3px;position:absolute;top:50%;margin:-100px 0 0}.contentMenu:before{content:\\\"\\\\8FD9\\\\91CC\\\\662F\\\\53F3\\\\952E\\\\83DC\\\\5355\\\\533A\\\\57DF\\\";font-size:20px;color:#999;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 345:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(335);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(318)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 346:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(336);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(318)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 356:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=contentMenu></div>\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 1.index.js","import { g } from '../../gtool';\nimport template from './template.html';\nimport ContextMenu from './ContextMenu';\nimport './style.scss';\n\nexport function create (parent, option = []) {\n    parent = typeof parent === 'string' ? g.$(parent) : parent;\n\n    // console.log(html);\n    parent.innerHTML = template;\n\n    const container = g.$('.contentMenu', parent);\n    new ContextMenu(container, defaultOption);\n}\n\nconst defaultOption = {\n    class: 'context-menu',\n    items: [\n        {\n            type: 'link',\n            title: '百度',\n            content: 'https://www.baidu.com',\n            target: '_blank'\n        },\n        {\n            type: 'separator',\n        },\n        {\n            type: 'function',\n            title: 'Alert',\n            content: () => alert(1)\n        },\n        {\n            type: 'link',\n            title: 'Disabled',\n            disabled: true\n        },\n        {\n            type: 'text',\n            title: 'Plain Text',\n            class: 'plain'\n        }\n    ]\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/contextMenu/index.js","import { g } from '../../gtool';\nimport './ContextMenu.scss';\n\n// TODO submenu\nexport default class ContextMenu {\n    constructor (parent, options = {}) {\n        this.parent = typeof parent === 'string' ? g.$(parent) : parent;\n        this.options = options;\n        this.isHidden = true;\n        this.type = [\n            'separator',\n            'link',\n            'function',\n            'text',\n        ];\n\n        this.menu = this.render();\n        this.parent.appendChild(this.menu);\n\n        this.parent.addEventListener('contextmenu', e => {\n            this.show();\n            const position = this._getXY(e);\n            this.setPosition(position.x, position.y);\n\n            e.preventDefault();\n            return false;\n        });\n        document.addEventListener('click', e => {\n            // console.log(this);\n            if (e.target !== this.menu) {\n                this.hide();\n            }\n        });\n        document.addEventListener('contextmenu', e => {\n            // console.log(e);\n            if (e.target !== this.menu && e.target !== this.parent) {\n                this.hide();\n            }\n        });\n    }\n\n    render () {\n        const menuList = [];\n        this.options.items.forEach(item => {\n\n            if (this.type.indexOf(item.type) < 0) {\n                return;\n            }\n            switch (item.type) {\n                case 'separator': menuList.push(this.separator(item)); break;\n                case 'link':      menuList.push(this.link(item)); break;\n                case 'function':  menuList.push(this.function(item)); break;\n                case 'text':      menuList.push(this.text(item)); break;\n                \n                default: return;\n            }\n\n        });\n\n        const className = 'g-contextMenu ' + (this.options.class || '');\n        return new g.vdom('ul', { class: className }, menuList).render();\n    }\n\n    separator (option) {\n        return new g.vdom('li', { class: 'separator' });\n    }\n\n    link (option) {\n\n        const a = new g.vdom('a', { \n\n            href: option.content || '', \n            target: option.target ? option.target : '_blank',\n\n        }, [ option.title ]);\n        \n        const list = new g.vdom('li', { class: 'link' + (option.disabled ? ' disabled' : '') }, [ a ]);\n        if (option.disabled) {\n            list.addEvent('click', e => {\n                e.preventDefault();\n                return false;\n            })\n        }\n\n        return list;\n    }\n\n    function (option) {\n        const btn = new g.vdom('li', { \n            class: 'function' + (option.disabled ? ' disabled' : '') \n        }, [ option.title ]);\n\n        if (!option.disabled) {\n            btn.addEvent('click', (e) => {\n                option.content(e);\n            });\n        }\n\n        return btn;\n    }\n\n    text (option) {\n        return new g.vdom('li', { \n            class: 'text' + (option.disabled ? ' disabled' : '') \n        }, [ option.title ]);\n    }\n\n    show () {\n        g.class(this.menu, 'hide', true);\n        g.class(this.menu, 'show');\n    }\n\n    hide () {\n        g.class(this.menu, 'show', true);\n        g.class(this.menu, 'hide');\n    }\n\n    setPosition (x, y) {\n        g.css(this.menu, `left:${x}px; top:${y}px`);\n    }\n\n    _getXY (e) {\n        // console.log(e);\n        const toTop = document.documentElement.scrollTop || document.body.scrollTop;\n        const toLeft =  document.documentElement.scrollLeft || document.body.scrollLeft;\n        const bodyWidth = g.width(document.body);\n        const bodyHeight = g.height(document.body);\n        const menuWidth = g.width(this.menu);\n        const menuHeight = g.height(this.menu);\n\n        let x = e.clientX + toLeft;\n        let y = e.clientY + toTop;\n        if (bodyWidth - x < menuWidth) {\n            x -= menuWidth;\n        }\n        if (bodyHeight - y < menuHeight) {\n            y -= menuHeight;\n        }\n        return {x, y}; \n        // return {x: e.clientX + toLeft, y: e.clientY + toTop}; \n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/contextMenu/ContextMenu.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".g-contextMenu{background:#fff;display:none;border-radius:3px;margin:0;padding:5px 0;list-style:none;min-width:200px;position:fixed;border:1px solid #ccc;box-shadow:1px 1px 2px rgba(0,0,0,.2)}.g-contextMenu.show{display:inline-block}.g-contextMenu.hide{display:none}.g-contextMenu li{padding:5px 10px;color:#333}.g-contextMenu li:hover{background:#eee}.g-contextMenu li.separator{border-bottom:1px solid #eee;padding:0;margin:5px 0}.g-contextMenu li.separator:hover{background:transparent}.g-contextMenu li.disabled{color:#999;cursor:not-allowed}.g-contextMenu li.disabled:hover{background:transparent}.g-contextMenu li.disabled a{color:#999;cursor:not-allowed}.g-contextMenu a{color:#333;text-decoration:none;display:block}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/contextMenu/ContextMenu.scss\n// module id = 335\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".contentMenu{width:100%;height:200px;background:#eee;border-radius:3px;position:absolute;top:50%;margin:-100px 0 0}.contentMenu:before{content:\\\"\\\\8FD9\\\\91CC\\\\662F\\\\53F3\\\\952E\\\\83DC\\\\5355\\\\533A\\\\57DF\\\";font-size:20px;color:#999;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/contextMenu/style.scss\n// module id = 336\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/contextMenu/ContextMenu.scss\n// module id = 345\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/contextMenu/style.scss\n// module id = 346\n// module chunks = 1","module.exports = \"<div class=contentMenu></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/contextMenu/template.html\n// module id = 356\n// module chunks = 1"],"sourceRoot":""}