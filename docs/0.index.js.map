{"version":3,"sources":["webpack:///0.index.js","webpack:///./src/nuomi/contextMenu/index.js","webpack:///./src/nuomi/contextMenu/ContextMenu.js","webpack:///./src/nuomi/contextMenu/ContextMenu.scss","webpack:///./src/nuomi/contextMenu/style.scss","webpack:///./src/nuomi/contextMenu/ContextMenu.scss?db7d","webpack:///./src/nuomi/contextMenu/style.scss?9a73","webpack:///./src/nuomi/contextMenu/template.html"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","createMenu","parent","arguments","length","undefined","_gtool","g","$","innerHTML","_template2","container","_ContextMenu2","defaultOption","Object","defineProperty","value","_template","_ContextMenu","class","items","type","title","content","target","alert","disabled","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","i","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","ContextMenu","_this","this","options","isHidden","menu","render","appendChild","addEventListener","e","show","position","_getXY","setPosition","x","y","preventDefault","document","hide","console","log","_this2","menuList","forEach","item","indexOf","push","separator","link","function","text","className","vdom","option","a","href","list","addEvent","btn","css","toTop","documentElement","scrollTop","body","toLeft","scrollLeft","bodyWidth","width","bodyHeight","height","menuWidth","menuHeight","clientX","clientY","locals"],"mappings":"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","file":"0.index.js","sourcesContent":["webpackJsonp([0,2],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createMenu = createMenu;\n\nvar _gtool = __webpack_require__(0);\n\nvar _template = __webpack_require__(12);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _ContextMenu = __webpack_require__(7);\n\nvar _ContextMenu2 = _interopRequireDefault(_ContextMenu);\n\n__webpack_require__(11);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createMenu(parent) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n\n    parent.innerHTML = _template2.default;\n\n    var container = _gtool.g.$('.contentMenu', parent);\n    new _ContextMenu2.default(container, defaultOption);\n}\n\nvar defaultOption = {\n    class: 'context-menu',\n    items: [{\n        type: 'link',\n        title: '百度',\n        content: 'https://www.baidu.com',\n        target: '_blank'\n    }, {\n        type: 'separator'\n    }, {\n        type: 'function',\n        title: 'Alert',\n        content: function content() {\n            return alert(1);\n        }\n    }, {\n        type: 'link',\n        title: 'Disabled',\n        disabled: true\n    }, {\n        type: 'text',\n        title: 'Plain Text',\n        class: 'plain'\n    }]\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _gtool = __webpack_require__(0);\n\n__webpack_require__(10);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ContextMenu = function () {\n    function ContextMenu(parent) {\n        var _this = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, ContextMenu);\n\n        this.parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n        this.options = options;\n        this.isHidden = true;\n        this.type = ['separator', 'link', 'function', 'text'];\n\n        this.menu = this.render();\n        this.parent.appendChild(this.menu);\n\n        this.parent.addEventListener('contextmenu', function (e) {\n            _this.show();\n            var position = _this._getXY(e);\n            _this.setPosition(position.x, position.y);\n\n            e.preventDefault();\n            return false;\n        });\n        document.addEventListener('click', function (e) {\n            if (e.target !== _this.menu) {\n                _this.hide();\n            }\n        });\n        document.addEventListener('contextmenu', function (e) {\n            console.log(e);\n            if (e.target !== _this.menu && e.target !== _this.parent) {\n                _this.hide();\n            }\n        });\n    }\n\n    _createClass(ContextMenu, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var menuList = [];\n            this.options.items.forEach(function (item) {\n\n                if (_this2.type.indexOf(item.type) < 0) {\n                    return;\n                }\n                switch (item.type) {\n                    case 'separator':\n                        menuList.push(_this2.separator(item));break;\n                    case 'link':\n                        menuList.push(_this2.link(item));break;\n                    case 'function':\n                        menuList.push(_this2.function(item));break;\n                    case 'text':\n                        menuList.push(_this2.text(item));break;\n\n                    default:\n                        return;\n                }\n            });\n\n            var className = 'g-contextMenu ' + (this.options.class || '');\n            return new _gtool.g.vdom('ul', { class: className }, menuList).render();\n        }\n    }, {\n        key: 'separator',\n        value: function separator(option) {\n            return new _gtool.g.vdom('li', { class: 'separator' });\n        }\n    }, {\n        key: 'link',\n        value: function link(option) {\n\n            var a = new _gtool.g.vdom('a', {\n\n                href: option.content || '',\n                target: option.target ? option.target : '_blank'\n\n            }, [option.title]);\n\n            var list = new _gtool.g.vdom('li', { class: 'link' + (option.disabled ? ' disabled' : '') }, [a]);\n            if (option.disabled) {\n                list.addEvent('click', function (e) {\n                    e.preventDefault();\n                    return false;\n                });\n            }\n\n            return list;\n        }\n    }, {\n        key: 'function',\n        value: function _function(option) {\n            var btn = new _gtool.g.vdom('li', {\n                class: 'function' + (option.disabled ? ' disabled' : '')\n            }, [option.title]);\n\n            if (!option.disabled) {\n                btn.addEvent('click', function (e) {\n                    option.content(e);\n                });\n            }\n\n            return btn;\n        }\n    }, {\n        key: 'text',\n        value: function text(option) {\n            return new _gtool.g.vdom('li', {\n                class: 'text' + (option.disabled ? ' disabled' : '')\n            }, [option.title]);\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            _gtool.g.class(this.menu, 'hide', true);\n            _gtool.g.class(this.menu, 'show');\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            _gtool.g.class(this.menu, 'show', true);\n            _gtool.g.class(this.menu, 'hide');\n        }\n    }, {\n        key: 'setPosition',\n        value: function setPosition(x, y) {\n            _gtool.g.css(this.menu, 'left:' + x + 'px; top:' + y + 'px');\n        }\n    }, {\n        key: '_getXY',\n        value: function _getXY(e) {\n            var toTop = document.documentElement.scrollTop || document.body.scrollTop;\n            var toLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\n            var bodyWidth = _gtool.g.width(document.body);\n            var bodyHeight = _gtool.g.height(document.body);\n            var menuWidth = _gtool.g.width(this.menu);\n            var menuHeight = _gtool.g.height(this.menu);\n\n            var x = e.clientX + toLeft;\n            var y = e.clientY + toTop;\n            if (bodyWidth - x < menuWidth) {\n                x -= menuWidth;\n            }\n            if (bodyHeight - y < menuHeight) {\n                y -= menuHeight;\n            }\n            return { x: x, y: y };\n        }\n    }]);\n\n    return ContextMenu;\n}();\n\nexports.default = ContextMenu;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(4)();\n// imports\n\n\n// module\nexports.push([module.i, \".g-contextMenu{background:#fff;display:none;border-radius:3px;margin:0;padding:5px 0;list-style:none;min-width:200px;position:fixed;border:1px solid #ccc;box-shadow:1px 1px 2px rgba(0,0,0,.2)}.g-contextMenu.show{display:inline-block}.g-contextMenu.hide{display:none}.g-contextMenu li{padding:5px 10px;color:#333}.g-contextMenu li:hover{background:#eee}.g-contextMenu li.separator{border-bottom:1px solid #eee;padding:0;margin:5px 0}.g-contextMenu li.separator:hover{background:transparent}.g-contextMenu li.disabled{color:#999;cursor:not-allowed}.g-contextMenu li.disabled:hover{background:transparent}.g-contextMenu li.disabled a{color:#999;cursor:not-allowed}.g-contextMenu a{color:#333;text-decoration:none;display:block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(4)();\n// imports\n\n\n// module\nexports.push([module.i, \".contentMenu{width:100%;height:200px;background:#eee;border-radius:3px;position:absolute;top:50%;margin:-100px 0 0}.contentMenu:before{content:\\\"\\\\8FD9\\\\91CC\\\\662F\\\\53F3\\\\952E\\\\83DC\\\\5355\\\\533A\\\\57DF\\\";font-size:20px;color:#999;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(8);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(5)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(9);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(5)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=contentMenu></div>\";\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// 0.index.js","import { g } from '../../gtool';\nimport template from './template.html';\nimport ContextMenu from './ContextMenu';\nimport './style.scss';\n\nexport function createMenu (parent, option = []) {\n    parent = typeof parent === 'string' ? g.$(parent) : parent;\n\n    // console.log(html);\n    parent.innerHTML = template;\n\n    const container = g.$('.contentMenu', parent);\n    new ContextMenu(container, defaultOption);\n}\n\nconst defaultOption = {\n    class: 'context-menu',\n    items: [\n        {\n            type: 'link',\n            title: '百度',\n            content: 'https://www.baidu.com',\n            target: '_blank'\n        },\n        {\n            type: 'separator',\n        },\n        {\n            type: 'function',\n            title: 'Alert',\n            content: () => alert(1)\n        },\n        {\n            type: 'link',\n            title: 'Disabled',\n            disabled: true\n        },\n        {\n            type: 'text',\n            title: 'Plain Text',\n            class: 'plain'\n        }\n    ]\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/contextMenu/index.js","import { g } from '../../gtool';\nimport './ContextMenu.scss';\n\n// TODO submenu\nexport default class ContextMenu {\n    constructor (parent, options = {}) {\n        this.parent = typeof parent === 'string' ? g.$(parent) : parent;\n        this.options = options;\n        this.isHidden = true;\n        this.type = [\n            'separator',\n            'link',\n            'function',\n            'text',\n        ];\n\n        this.menu = this.render();\n        this.parent.appendChild(this.menu);\n\n        this.parent.addEventListener('contextmenu', e => {\n            this.show();\n            const position = this._getXY(e);\n            this.setPosition(position.x, position.y);\n\n            e.preventDefault();\n            return false;\n        });\n        document.addEventListener('click', e => {\n            // console.log(this);\n            if (e.target !== this.menu) {\n                this.hide();\n            }\n        });\n        document.addEventListener('contextmenu', e => {\n            console.log(e);\n            if (e.target !== this.menu && e.target !== this.parent) {\n                this.hide();\n            }\n        });\n    }\n\n    render () {\n        const menuList = [];\n        this.options.items.forEach(item => {\n\n            if (this.type.indexOf(item.type) < 0) {\n                return;\n            }\n            switch (item.type) {\n                case 'separator': menuList.push(this.separator(item)); break;\n                case 'link':      menuList.push(this.link(item)); break;\n                case 'function':  menuList.push(this.function(item)); break;\n                case 'text':      menuList.push(this.text(item)); break;\n                \n                default: return;\n            }\n\n        });\n\n        const className = 'g-contextMenu ' + (this.options.class || '');\n        return new g.vdom('ul', { class: className }, menuList).render();\n    }\n\n    separator (option) {\n        return new g.vdom('li', { class: 'separator' });\n    }\n\n    link (option) {\n\n        const a = new g.vdom('a', { \n\n            href: option.content || '', \n            target: option.target ? option.target : '_blank',\n\n        }, [ option.title ]);\n        \n        const list = new g.vdom('li', { class: 'link' + (option.disabled ? ' disabled' : '') }, [ a ]);\n        if (option.disabled) {\n            list.addEvent('click', e => {\n                e.preventDefault();\n                return false;\n            })\n        }\n\n        return list;\n    }\n\n    function (option) {\n        const btn = new g.vdom('li', { \n            class: 'function' + (option.disabled ? ' disabled' : '') \n        }, [ option.title ]);\n\n        if (!option.disabled) {\n            btn.addEvent('click', (e) => {\n                option.content(e);\n            });\n        }\n\n        return btn;\n    }\n\n    text (option) {\n        return new g.vdom('li', { \n            class: 'text' + (option.disabled ? ' disabled' : '') \n        }, [ option.title ]);\n    }\n\n    show () {\n        g.class(this.menu, 'hide', true);\n        g.class(this.menu, 'show');\n    }\n\n    hide () {\n        g.class(this.menu, 'show', true);\n        g.class(this.menu, 'hide');\n    }\n\n    setPosition (x, y) {\n        g.css(this.menu, `left:${x}px; top:${y}px`);\n    }\n\n    _getXY (e) {\n        // console.log(e);\n        const toTop = document.documentElement.scrollTop || document.body.scrollTop;\n        const toLeft =  document.documentElement.scrollLeft || document.body.scrollLeft;\n        const bodyWidth = g.width(document.body);\n        const bodyHeight = g.height(document.body);\n        const menuWidth = g.width(this.menu);\n        const menuHeight = g.height(this.menu);\n\n        let x = e.clientX + toLeft;\n        let y = e.clientY + toTop;\n        if (bodyWidth - x < menuWidth) {\n            x -= menuWidth;\n        }\n        if (bodyHeight - y < menuHeight) {\n            y -= menuHeight;\n        }\n        return {x, y}; \n        // return {x: e.clientX + toLeft, y: e.clientY + toTop}; \n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/contextMenu/ContextMenu.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".g-contextMenu{background:#fff;display:none;border-radius:3px;margin:0;padding:5px 0;list-style:none;min-width:200px;position:fixed;border:1px solid #ccc;box-shadow:1px 1px 2px rgba(0,0,0,.2)}.g-contextMenu.show{display:inline-block}.g-contextMenu.hide{display:none}.g-contextMenu li{padding:5px 10px;color:#333}.g-contextMenu li:hover{background:#eee}.g-contextMenu li.separator{border-bottom:1px solid #eee;padding:0;margin:5px 0}.g-contextMenu li.separator:hover{background:transparent}.g-contextMenu li.disabled{color:#999;cursor:not-allowed}.g-contextMenu li.disabled:hover{background:transparent}.g-contextMenu li.disabled a{color:#999;cursor:not-allowed}.g-contextMenu a{color:#333;text-decoration:none;display:block}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/contextMenu/ContextMenu.scss\n// module id = 8\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".contentMenu{width:100%;height:200px;background:#eee;border-radius:3px;position:absolute;top:50%;margin:-100px 0 0}.contentMenu:before{content:\\\"\\\\8FD9\\\\91CC\\\\662F\\\\53F3\\\\952E\\\\83DC\\\\5355\\\\533A\\\\57DF\\\";font-size:20px;color:#999;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/contextMenu/style.scss\n// module id = 9\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/contextMenu/ContextMenu.scss\n// module id = 10\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/contextMenu/style.scss\n// module id = 11\n// module chunks = 0","module.exports = \"<div class=contentMenu></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/contextMenu/template.html\n// module id = 12\n// module chunks = 0"],"sourceRoot":""}