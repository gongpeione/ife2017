{"version":3,"sources":["webpack:///0.index.js","webpack:///./src/nuomi/contextMenu/ContextMenu.js","webpack:///./src/nuomi/contextMenu/ContextMenu.scss","webpack:///./src/nuomi/contextMenu/style.scss","webpack:///./src/nuomi/contextMenu/ContextMenu.scss?db7d","webpack:///./src/nuomi/contextMenu/style.scss?9a73","webpack:///./src/nuomi/contextMenu/template.html","webpack:///./src/nuomi/contextMenu/index.js"],"names":["webpackJsonp","308","module","exports","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_gtool","ContextMenu","parent","_this","this","options","arguments","undefined","g","$","isHidden","type","menu","render","appendChild","addEventListener","e","show","position","_getXY","setPosition","x","y","preventDefault","document","hide","_this2","menuList","items","forEach","item","indexOf","push","separator","link","function","text","className","class","vdom","option","a","href","content","title","list","disabled","addEvent","btn","css","toTop","documentElement","scrollTop","body","toLeft","scrollLeft","bodyWidth","width","bodyHeight","height","menuWidth","menuHeight","clientX","clientY","default","310","311","313","locals","314","316","87","_interopRequireDefault","obj","__esModule","create","innerHTML","_template2","container","_ContextMenu2","defaultOption","_template","_ContextMenu","alert"],"mappings":"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","file":"0.index.js","sourcesContent":["webpackJsonp([0,3],{\n\n/***/ 308:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _gtool = __webpack_require__(59);\n\n__webpack_require__(313);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ContextMenu = function () {\n    function ContextMenu(parent) {\n        var _this = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, ContextMenu);\n\n        this.parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n        this.options = options;\n        this.isHidden = true;\n        this.type = ['separator', 'link', 'function', 'text'];\n\n        this.menu = this.render();\n        this.parent.appendChild(this.menu);\n\n        this.parent.addEventListener('contextmenu', function (e) {\n            _this.show();\n            var position = _this._getXY(e);\n            _this.setPosition(position.x, position.y);\n\n            e.preventDefault();\n            return false;\n        });\n        document.addEventListener('click', function (e) {\n            if (e.target !== _this.menu) {\n                _this.hide();\n            }\n        });\n        document.addEventListener('contextmenu', function (e) {\n            if (e.target !== _this.menu && e.target !== _this.parent) {\n                _this.hide();\n            }\n        });\n    }\n\n    _createClass(ContextMenu, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var menuList = [];\n            this.options.items.forEach(function (item) {\n\n                if (_this2.type.indexOf(item.type) < 0) {\n                    return;\n                }\n                switch (item.type) {\n                    case 'separator':\n                        menuList.push(_this2.separator(item));break;\n                    case 'link':\n                        menuList.push(_this2.link(item));break;\n                    case 'function':\n                        menuList.push(_this2.function(item));break;\n                    case 'text':\n                        menuList.push(_this2.text(item));break;\n\n                    default:\n                        return;\n                }\n            });\n\n            var className = 'g-contextMenu ' + (this.options.class || '');\n            return new _gtool.g.vdom('ul', { class: className }, menuList).render();\n        }\n    }, {\n        key: 'separator',\n        value: function separator(option) {\n            return new _gtool.g.vdom('li', { class: 'separator' });\n        }\n    }, {\n        key: 'link',\n        value: function link(option) {\n\n            var a = new _gtool.g.vdom('a', {\n\n                href: option.content || '',\n                target: option.target ? option.target : '_blank'\n\n            }, [option.title]);\n\n            var list = new _gtool.g.vdom('li', { class: 'link' + (option.disabled ? ' disabled' : '') }, [a]);\n            if (option.disabled) {\n                list.addEvent('click', function (e) {\n                    e.preventDefault();\n                    return false;\n                });\n            }\n\n            return list;\n        }\n    }, {\n        key: 'function',\n        value: function _function(option) {\n            var btn = new _gtool.g.vdom('li', {\n                class: 'function' + (option.disabled ? ' disabled' : '')\n            }, [option.title]);\n\n            if (!option.disabled) {\n                btn.addEvent('click', function (e) {\n                    option.content(e);\n                });\n            }\n\n            return btn;\n        }\n    }, {\n        key: 'text',\n        value: function text(option) {\n            return new _gtool.g.vdom('li', {\n                class: 'text' + (option.disabled ? ' disabled' : '')\n            }, [option.title]);\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            _gtool.g.class(this.menu, 'hide', true);\n            _gtool.g.class(this.menu, 'show');\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            _gtool.g.class(this.menu, 'show', true);\n            _gtool.g.class(this.menu, 'hide');\n        }\n    }, {\n        key: 'setPosition',\n        value: function setPosition(x, y) {\n            _gtool.g.css(this.menu, 'left:' + x + 'px; top:' + y + 'px');\n        }\n    }, {\n        key: '_getXY',\n        value: function _getXY(e) {\n            var toTop = document.documentElement.scrollTop || document.body.scrollTop;\n            var toLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\n            var bodyWidth = _gtool.g.width(document.body);\n            var bodyHeight = _gtool.g.height(document.body);\n            var menuWidth = _gtool.g.width(this.menu);\n            var menuHeight = _gtool.g.height(this.menu);\n\n            var x = e.clientX + toLeft;\n            var y = e.clientY + toTop;\n            if (bodyWidth - x < menuWidth) {\n                x -= menuWidth;\n            }\n            if (bodyHeight - y < menuHeight) {\n                y -= menuHeight;\n            }\n            return { x: x, y: y };\n        }\n    }]);\n\n    return ContextMenu;\n}();\n\nexports.default = ContextMenu;\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(306)();\n// imports\n\n\n// module\nexports.push([module.i, \".g-contextMenu{background:#fff;display:none;border-radius:3px;margin:0;padding:5px 0;list-style:none;min-width:200px;position:fixed;border:1px solid #ccc;box-shadow:1px 1px 2px rgba(0,0,0,.2)}.g-contextMenu.show{display:inline-block}.g-contextMenu.hide{display:none}.g-contextMenu li{padding:5px 10px;color:#333}.g-contextMenu li:hover{background:#eee}.g-contextMenu li.separator{border-bottom:1px solid #eee;padding:0;margin:5px 0}.g-contextMenu li.separator:hover{background:transparent}.g-contextMenu li.disabled{color:#999;cursor:not-allowed}.g-contextMenu li.disabled:hover{background:transparent}.g-contextMenu li.disabled a{color:#999;cursor:not-allowed}.g-contextMenu a{color:#333;text-decoration:none;display:block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 311:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(306)();\n// imports\n\n\n// module\nexports.push([module.i, \".contentMenu{width:100%;height:200px;background:#eee;border-radius:3px;position:absolute;top:50%;margin:-100px 0 0}.contentMenu:before{content:\\\"\\\\8FD9\\\\91CC\\\\662F\\\\53F3\\\\952E\\\\83DC\\\\5355\\\\533A\\\\57DF\\\";font-size:20px;color:#999;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 313:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(310);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(307)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 314:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(311);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(307)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 316:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=contentMenu></div>\";\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.create = create;\n\nvar _gtool = __webpack_require__(59);\n\nvar _template = __webpack_require__(316);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _ContextMenu = __webpack_require__(308);\n\nvar _ContextMenu2 = _interopRequireDefault(_ContextMenu);\n\n__webpack_require__(314);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction create(parent) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n\n    parent.innerHTML = _template2.default;\n\n    var container = _gtool.g.$('.contentMenu', parent);\n    new _ContextMenu2.default(container, defaultOption);\n}\n\nvar defaultOption = {\n    class: 'context-menu',\n    items: [{\n        type: 'link',\n        title: '百度',\n        content: 'https://www.baidu.com',\n        target: '_blank'\n    }, {\n        type: 'separator'\n    }, {\n        type: 'function',\n        title: 'Alert',\n        content: function content() {\n            return alert(1);\n        }\n    }, {\n        type: 'link',\n        title: 'Disabled',\n        disabled: true\n    }, {\n        type: 'text',\n        title: 'Plain Text',\n        class: 'plain'\n    }]\n};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.index.js","import { g } from '../../gtool';\nimport './ContextMenu.scss';\n\n// TODO submenu\nexport default class ContextMenu {\n    constructor (parent, options = {}) {\n        this.parent = typeof parent === 'string' ? g.$(parent) : parent;\n        this.options = options;\n        this.isHidden = true;\n        this.type = [\n            'separator',\n            'link',\n            'function',\n            'text',\n        ];\n\n        this.menu = this.render();\n        this.parent.appendChild(this.menu);\n\n        this.parent.addEventListener('contextmenu', e => {\n            this.show();\n            const position = this._getXY(e);\n            this.setPosition(position.x, position.y);\n\n            e.preventDefault();\n            return false;\n        });\n        document.addEventListener('click', e => {\n            // console.log(this);\n            if (e.target !== this.menu) {\n                this.hide();\n            }\n        });\n        document.addEventListener('contextmenu', e => {\n            // console.log(e);\n            if (e.target !== this.menu && e.target !== this.parent) {\n                this.hide();\n            }\n        });\n    }\n\n    render () {\n        const menuList = [];\n        this.options.items.forEach(item => {\n\n            if (this.type.indexOf(item.type) < 0) {\n                return;\n            }\n            switch (item.type) {\n                case 'separator': menuList.push(this.separator(item)); break;\n                case 'link':      menuList.push(this.link(item)); break;\n                case 'function':  menuList.push(this.function(item)); break;\n                case 'text':      menuList.push(this.text(item)); break;\n                \n                default: return;\n            }\n\n        });\n\n        const className = 'g-contextMenu ' + (this.options.class || '');\n        return new g.vdom('ul', { class: className }, menuList).render();\n    }\n\n    separator (option) {\n        return new g.vdom('li', { class: 'separator' });\n    }\n\n    link (option) {\n\n        const a = new g.vdom('a', { \n\n            href: option.content || '', \n            target: option.target ? option.target : '_blank',\n\n        }, [ option.title ]);\n        \n        const list = new g.vdom('li', { class: 'link' + (option.disabled ? ' disabled' : '') }, [ a ]);\n        if (option.disabled) {\n            list.addEvent('click', e => {\n                e.preventDefault();\n                return false;\n            })\n        }\n\n        return list;\n    }\n\n    function (option) {\n        const btn = new g.vdom('li', { \n            class: 'function' + (option.disabled ? ' disabled' : '') \n        }, [ option.title ]);\n\n        if (!option.disabled) {\n            btn.addEvent('click', (e) => {\n                option.content(e);\n            });\n        }\n\n        return btn;\n    }\n\n    text (option) {\n        return new g.vdom('li', { \n            class: 'text' + (option.disabled ? ' disabled' : '') \n        }, [ option.title ]);\n    }\n\n    show () {\n        g.class(this.menu, 'hide', true);\n        g.class(this.menu, 'show');\n    }\n\n    hide () {\n        g.class(this.menu, 'show', true);\n        g.class(this.menu, 'hide');\n    }\n\n    setPosition (x, y) {\n        g.css(this.menu, `left:${x}px; top:${y}px`);\n    }\n\n    _getXY (e) {\n        // console.log(e);\n        const toTop = document.documentElement.scrollTop || document.body.scrollTop;\n        const toLeft =  document.documentElement.scrollLeft || document.body.scrollLeft;\n        const bodyWidth = g.width(document.body);\n        const bodyHeight = g.height(document.body);\n        const menuWidth = g.width(this.menu);\n        const menuHeight = g.height(this.menu);\n\n        let x = e.clientX + toLeft;\n        let y = e.clientY + toTop;\n        if (bodyWidth - x < menuWidth) {\n            x -= menuWidth;\n        }\n        if (bodyHeight - y < menuHeight) {\n            y -= menuHeight;\n        }\n        return {x, y}; \n        // return {x: e.clientX + toLeft, y: e.clientY + toTop}; \n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/contextMenu/ContextMenu.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".g-contextMenu{background:#fff;display:none;border-radius:3px;margin:0;padding:5px 0;list-style:none;min-width:200px;position:fixed;border:1px solid #ccc;box-shadow:1px 1px 2px rgba(0,0,0,.2)}.g-contextMenu.show{display:inline-block}.g-contextMenu.hide{display:none}.g-contextMenu li{padding:5px 10px;color:#333}.g-contextMenu li:hover{background:#eee}.g-contextMenu li.separator{border-bottom:1px solid #eee;padding:0;margin:5px 0}.g-contextMenu li.separator:hover{background:transparent}.g-contextMenu li.disabled{color:#999;cursor:not-allowed}.g-contextMenu li.disabled:hover{background:transparent}.g-contextMenu li.disabled a{color:#999;cursor:not-allowed}.g-contextMenu a{color:#333;text-decoration:none;display:block}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/contextMenu/ContextMenu.scss\n// module id = 310\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".contentMenu{width:100%;height:200px;background:#eee;border-radius:3px;position:absolute;top:50%;margin:-100px 0 0}.contentMenu:before{content:\\\"\\\\8FD9\\\\91CC\\\\662F\\\\53F3\\\\952E\\\\83DC\\\\5355\\\\533A\\\\57DF\\\";font-size:20px;color:#999;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/contextMenu/style.scss\n// module id = 311\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./ContextMenu.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/contextMenu/ContextMenu.scss\n// module id = 313\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/contextMenu/style.scss\n// module id = 314\n// module chunks = 0","module.exports = \"<div class=contentMenu></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/contextMenu/template.html\n// module id = 316\n// module chunks = 0","import { g } from '../../gtool';\nimport template from './template.html';\nimport ContextMenu from './ContextMenu';\nimport './style.scss';\n\nexport function create (parent, option = []) {\n    parent = typeof parent === 'string' ? g.$(parent) : parent;\n\n    // console.log(html);\n    parent.innerHTML = template;\n\n    const container = g.$('.contentMenu', parent);\n    new ContextMenu(container, defaultOption);\n}\n\nconst defaultOption = {\n    class: 'context-menu',\n    items: [\n        {\n            type: 'link',\n            title: '百度',\n            content: 'https://www.baidu.com',\n            target: '_blank'\n        },\n        {\n            type: 'separator',\n        },\n        {\n            type: 'function',\n            title: 'Alert',\n            content: () => alert(1)\n        },\n        {\n            type: 'link',\n            title: 'Disabled',\n            disabled: true\n        },\n        {\n            type: 'text',\n            title: 'Plain Text',\n            class: 'plain'\n        }\n    ]\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/contextMenu/index.js"],"sourceRoot":""}