{"version":3,"sources":["webpack:///0.index.js","webpack:///./src/nuomi/vue5/Observer.js","webpack:///./src/nuomi/vue5/Publisher.js","webpack:///./src/nuomi/vue5/Vue.js","webpack:///./src/nuomi/vue5/Watcher.js","webpack:///./src/nuomi/vue5/style.scss","webpack:///./src/nuomi/vue5/style.scss?8f5f","webpack:///./src/nuomi/vue5/template.html","webpack:///./src/nuomi/vue5/index.js"],"names":["webpackJsonp","322","module","exports","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","ObEventHandler","this","changeMethods","name","callback","arguments","undefined","newVal","path","_this","pathArray","slice","split","callChangeMethods","forEach","pathName","pathSlice","join","Observer","data","publisher","originalData","handler","observe","checkData","_this2","keys","initProperty","val","_this3","get","set","parent","bubbling","update","onChange","default","329","Publisher","watchers","watcher","push","330","_interopRequireDefault","__esModule","_gtool","_Observer","_Observer2","_Watcher","_Watcher2","_Publisher","_Publisher2","NODE_TYPE","element","text","comment","moustache","Vue","option","el","g","$","observer","parseHTML","html","fragment","document","createDocumentFragment","node","firstChild","content","nodeType","innerText","nodeValue","match","test","appendChild","$watch","331","Watcher","oldVal","add","init","mathes","matchItem","orignialText","RegExp","$1","trim","$2","render","replaceContent","original","curVal","getData","replace","string","arr","reduce","x","y","e","341","351","locals","364","98","create","innerHTML","_template2","app","_Vue2","user","age","click","window","addEventListener","_template","_Vue"],"mappings":"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","file":"0.index.js","sourcesContent":["webpackJsonp([0,14],{\n\n/***/ 322:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ObEventHandler = function () {\n    function ObEventHandler() {\n        _classCallCheck(this, ObEventHandler);\n\n        this.changeMethods = {};\n    }\n\n    _createClass(ObEventHandler, [{\n        key: 'onChange',\n        value: function onChange(name) {\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n            this.changeMethods[name] = callback;\n        }\n    }, {\n        key: 'callChangeMethods',\n        value: function callChangeMethods(name) {\n            var newVal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n            name in this.changeMethods && this.changeMethods[name](newVal);\n        }\n    }, {\n        key: 'bubbling',\n        value: function bubbling(path, newVal) {\n            var _this = this;\n\n            var pathArray = path.slice(0, path.length - 1).split('.');\n            var length = pathArray.length;\n\n            this.callChangeMethods(path, newVal);\n\n            if (length) {\n                pathArray.forEach(function (pathName) {\n                    _this.callChangeMethods(pathName, newVal);\n                });\n\n                for (var i = pathArray.length - 1; i >= 2; i--) {\n                    var pathSlice = pathArray.slice(0, i);\n                    this.callChangeMethods(pathSlice.join('.'), newVal);\n                }\n            }\n        }\n    }]);\n\n    return ObEventHandler;\n}();\n\nvar Observer = function () {\n    function Observer(data, publisher) {\n        _classCallCheck(this, Observer);\n\n        this.originalData = this.data = data;\n        this.publisher = publisher;\n\n        this.handler = new ObEventHandler();\n\n        this.observe(this.originalData);\n    }\n\n    _createClass(Observer, [{\n        key: 'observe',\n        value: function observe(data) {\n            this.checkData(data);\n        }\n    }, {\n        key: 'checkData',\n        value: function checkData(data) {\n            var _this2 = this;\n\n            var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n            if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n                Object.keys(data).forEach(function (key) {\n                    _this2.initProperty(data, key, data[key], path);\n                });\n            }\n        }\n    }, {\n        key: 'initProperty',\n        value: function initProperty(data, key, val, path) {\n            var _this3 = this;\n\n            path += key + '.';\n\n            this.checkData(val, path);\n\n            Object.defineProperty(data, key, {\n                enumerable: true,\n                configurable: false,\n                get: function get() {\n                    return val;\n                },\n                set: function set(newVal) {\n                    _this3.checkData(newVal, parent);\n                    _this3.handler.bubbling(path, newVal);\n\n                    val = newVal;\n\n                    _this3.publisher.update();\n                }\n            });\n        }\n    }, {\n        key: '$watch',\n        value: function $watch(name) {\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n            this.handler.onChange(name, callback);\n        }\n    }]);\n\n    return Observer;\n}();\n\nexports.default = Observer;\n\n/***/ }),\n\n/***/ 329:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Publisher = function () {\n    function Publisher() {\n        _classCallCheck(this, Publisher);\n\n        this.watchers = [];\n    }\n\n    _createClass(Publisher, [{\n        key: \"add\",\n        value: function add(watcher) {\n            this.watchers.push(watcher);\n        }\n    }, {\n        key: \"update\",\n        value: function update() {\n            this.watchers.forEach(function (watcher) {\n                watcher.update();\n            });\n        }\n    }]);\n\n    return Publisher;\n}();\n\nexports.default = Publisher;\n\n/***/ }),\n\n/***/ 330:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _gtool = __webpack_require__(59);\n\nvar _Observer = __webpack_require__(322);\n\nvar _Observer2 = _interopRequireDefault(_Observer);\n\nvar _Watcher = __webpack_require__(331);\n\nvar _Watcher2 = _interopRequireDefault(_Watcher);\n\nvar _Publisher = __webpack_require__(329);\n\nvar _Publisher2 = _interopRequireDefault(_Publisher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar NODE_TYPE = {\n    element: 1,\n    text: 3,\n    comment: 8\n};\n\nvar moustache = /({{(.*?)}})/g;\n\nvar Vue = function () {\n    function Vue(option) {\n        _classCallCheck(this, Vue);\n\n        this.data = option.data;\n        this.el = typeof option.el === 'string' ? _gtool.g.$(option.el) : option.el;\n\n        this.publisher = new _Publisher2.default();\n\n        this.observer = new _Observer2.default(this.data, this.publisher);\n\n        this.parseHTML(this.el);\n    }\n\n    _createClass(Vue, [{\n        key: 'parseHTML',\n        value: function parseHTML(html) {\n\n            var fragment = document.createDocumentFragment();\n            var node = void 0;\n            while (node = html.firstChild) {\n\n                var content = '';\n                if (node.nodeType === NODE_TYPE.element) {\n                    content = node.innerText;\n                }\n                if (node.nodeType === NODE_TYPE.text) {\n                    content = node.nodeValue;\n                }\n\n                var match = moustache.test(content);\n                if (match) {\n                    new _Watcher2.default(this.data, node, this.publisher);\n                }\n\n                fragment.appendChild(node);\n            }\n\n            this.el.appendChild(fragment);\n        }\n    }, {\n        key: '$watch',\n        value: function $watch(name, callback) {\n            this.observer.$watch(name, callback);\n        }\n    }]);\n\n    return Vue;\n}();\n\nexports.default = Vue;\n\n/***/ }),\n\n/***/ 331:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar moustache = /({{(.*?)}})/g;\n\nvar NODE_TYPE = {\n    element: 1,\n    text: 3,\n    comment: 8\n};\n\nvar Watcher = function () {\n    function Watcher(data, node, publisher) {\n        _classCallCheck(this, Watcher);\n\n        this.node = node;\n        this.name = [];\n        this.oldVal = {};\n        this.data = data;\n        this.publisher = publisher;\n        this.nodeType = node.nodeType;\n\n        this.publisher.add(this);\n\n        this.init();\n    }\n\n    _createClass(Watcher, [{\n        key: 'init',\n        value: function init() {\n            var _this = this;\n\n            var content = '';\n            if (this.nodeType === NODE_TYPE.element) {\n                content = this.node.innerText;\n            }\n            if (this.nodeType === NODE_TYPE.text) {\n                content = this.node.nodeValue;\n            }\n            var mathes = content.match(moustache);\n            if (mathes && mathes.length) {\n                mathes.forEach(function (matchItem) {\n\n                    var orignialText = RegExp.$1.trim();\n                    var name = RegExp.$2.trim();\n\n                    _this.oldVal[name] = orignialText;\n\n                    _this.name.push(name);\n                });\n            }\n\n            this.update();\n        }\n    }, {\n        key: 'update',\n        value: function update() {\n            this.render();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.nodeType === NODE_TYPE.element) {\n                this.node.innerText = this.replaceContent(this.node.innerText);\n            }\n            if (this.nodeType === NODE_TYPE.text) {\n                this.node.nodeValue = this.replaceContent(this.node.nodeValue);\n            }\n        }\n    }, {\n        key: 'replaceContent',\n        value: function replaceContent(original) {\n            var _this2 = this;\n\n            this.name.forEach(function (name) {\n                var curVal = _this2.getData(name);\n                original = original.replace(_this2.oldVal[name], curVal);\n\n                _this2.oldVal[name] = curVal;\n            });\n            return original;\n        }\n    }, {\n        key: 'getData',\n        value: function getData(string) {\n            var _this3 = this;\n\n            try {\n                var arr = string.trim().split('.');\n                if (arr.length === 1) {\n                    return this.data[arr[0]];\n                }\n                return arr.reduce(function (x, y) {\n                    return _this3.data[x][y];\n                });\n            } catch (e) {\n                return '';\n            }\n        }\n    }]);\n\n    return Watcher;\n}();\n\nexports.default = Watcher;\n\n/***/ }),\n\n/***/ 341:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(317)();\n// imports\n\n\n// module\nexports.push([module.i, \"#vue-content{text-align:center;font-size:.3rem;position:absolute;width:100%;top:50%;transform:translateY(-50%)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 351:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(341);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(318)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 364:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div id=vue-content> <div class=name>Name: {{ user.name }}</div> <div class=age>Age: {{ user.age }}</div> <div class=click>Clicked: {{ click }} times</div> <button id=clickme>Click Me!</button> </div>\";\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.create = create;\n\nvar _template = __webpack_require__(364);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _gtool = __webpack_require__(59);\n\n__webpack_require__(351);\n\nvar _Observer = __webpack_require__(322);\n\nvar _Observer2 = _interopRequireDefault(_Observer);\n\nvar _Vue = __webpack_require__(330);\n\nvar _Vue2 = _interopRequireDefault(_Vue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction create(parent) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    parent = typeof parent === 'string' ? _gtool.g.$(parent) : parent;\n\n    parent.innerHTML = _template2.default;\n\n    var app = new _Vue2.default({\n        el: '#vue-content',\n        data: {\n            user: {\n                name: 'Geeku',\n                age: 24\n            },\n            click: 0\n        }\n    });\n\n    window.app = app;\n\n    _gtool.g.$('#clickme').addEventListener('click', function (e) {\n        app.data.click += 1;\n    });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.index.js","class ObEventHandler {\n    constructor () {\n        this.changeMethods = {};\n    }\n\n    onChange (name, callback = () => {}) {\n        this.changeMethods[name] = callback;\n    }\n\n    callChangeMethods (name, newVal = '') {\n        name in this.changeMethods && this.changeMethods[name](newVal);\n    }\n\n    bubbling (path, newVal) {\n        \n        const pathArray = path.slice(0, path.length - 1).split('.');\n        const length = pathArray.length;\n\n        // Call same path name's function,eg '['a.b.c.d']()'\n        this.callChangeMethods(path, newVal);\n\n        if (length) {\n\n            // Call each path name's function, eg '['a'](), ['b']() ...'\n            pathArray.forEach(pathName => {\n                this.callChangeMethods(pathName, newVal);\n            });\n\n            // Call parent path name's function,, eg '['a.b.c'](), ['a.b']() ...'\n            for (let i = pathArray.length - 1; i >= 2 ; i--) {\n                const pathSlice = pathArray.slice(0, i);\n                this.callChangeMethods(pathSlice.join('.'), newVal);\n            }\n        }\n    }\n}\n\nexport default class Observer {\n\n    constructor (data, publisher) {\n        this.originalData = this.data = data;\n        this.publisher = publisher;\n\n        this.handler = new ObEventHandler();\n\n        this.observe(this.originalData);\n    }\n\n    observe (data) {\n        this.checkData(data);\n    }\n\n    checkData (data, path = '') {\n        if (typeof data === 'object') {\n            Object.keys(data).forEach(key => {\n                this.initProperty(data, key, data[key], path);\n            });\n        }\n    }\n\n    initProperty (data, key, val, path) {\n\n        path += key + '.';\n\n        this.checkData(val, path); \n\n        Object.defineProperty(data, key, {\n            enumerable: true,\n            configurable: false,\n            get: () => {\n                return val;\n            },\n            set: newVal => {\n                this.checkData(newVal, parent);\n                this.handler.bubbling(path, newVal);\n\n                val = newVal;\n\n                this.publisher.update();\n            }\n        });\n    }\n\n    $watch (name, callback = () => {}) {\n        this.handler.onChange(name, callback);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/vue5/Observer.js","export default class Publisher {\n    constructor () {\n        this.watchers = [];\n    }\n    \n    add (watcher) {\n        this.watchers.push(watcher);\n    }\n\n    update () {\n        this.watchers.forEach(watcher => {\n            watcher.update();\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/vue5/Publisher.js","import { g, CONST } from '../../gtool';\nimport Observer from './Observer';\nimport Watcher from './Watcher';\nimport Publisher from './Publisher';\n\nconst NODE_TYPE = {\n    element: 1,\n    text: 3,\n    comment: 8\n};\n\nconst moustache = /({{(.*?)}})/g;\nexport default class Vue {\n    constructor (option) {\n        this.data = option.data;\n        this.el = (typeof option.el === 'string') ? g.$(option.el) : option.el;\n\n        this.publisher = new Publisher();\n\n        this.observer = new Observer(this.data, this.publisher);\n\n        this.parseHTML(this.el);\n    }\n\n    parseHTML (html) {\n        \n        const fragment = document.createDocumentFragment();\n        let node;\n        while (node = html.firstChild) {\n\n            let content = '';\n            if (node.nodeType === NODE_TYPE.element) {\n                content = node.innerText;\n            }\n            if (node.nodeType === NODE_TYPE.text) {\n                content = node.nodeValue;\n            }\n\n            const match = moustache.test(content);\n            if (match) {\n                new Watcher(this.data, node, this.publisher);    \n            }\n        \n            fragment.appendChild(node);\n        }\n\n        this.el.appendChild(fragment);\n    }\n\n    $watch (name, callback) {\n        this.observer.$watch(name, callback);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/vue5/Vue.js","const moustache = /({{(.*?)}})/g;\n\nconst NODE_TYPE = {\n    element: 1,\n    text: 3,\n    comment: 8\n};\nexport default class Watcher {\n    constructor (data, node, publisher) {\n        this.node = node;\n        this.name = [];\n        this.oldVal = {};\n        this.data = data;\n        this.publisher = publisher;\n        this.nodeType = node.nodeType;\n\n        this.publisher.add(this);\n\n        this.init();\n    }\n\n    init () {\n        let content = '';\n        if (this.nodeType === NODE_TYPE.element) {\n            content = this.node.innerText;\n        }\n        if (this.nodeType === NODE_TYPE.text) {\n            content = this.node.nodeValue;\n        }\n        const mathes = content.match(moustache);\n        if (mathes && mathes.length) {\n            mathes.forEach(matchItem => {\n\n                const orignialText = (RegExp.$1).trim();\n                const name = (RegExp.$2).trim();\n\n                this.oldVal[name] = orignialText;\n\n                this.name.push(name);\n            });\n        }\n\n        this.update();\n    }\n\n    update () {\n        this.render();\n    }\n\n    render () {\n        if (this.nodeType === NODE_TYPE.element) {\n            this.node.innerText = this.replaceContent(this.node.innerText);\n        }\n        if (this.nodeType === NODE_TYPE.text) {\n            this.node.nodeValue = this.replaceContent(this.node.nodeValue);\n        }\n    }\n\n    replaceContent (original) {\n        this.name.forEach(name => {\n            const curVal = this.getData(name);\n            original = original.replace(this.oldVal[name], curVal);\n\n            this.oldVal[name] = curVal;\n        });\n        return original;\n    }\n\n    getData (string) {\n        try {\n            const arr = string.trim().split('.');\n            if (arr.length === 1) {\n                return this.data[arr[0]];\n            }\n            return arr.reduce((x, y) => {\n                return this.data[x][y];\n            });\n        } catch (e) {\n            return '';\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/vue5/Watcher.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#vue-content{text-align:center;font-size:.3rem;position:absolute;width:100%;top:50%;transform:translateY(-50%)}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/sass-loader!./src/nuomi/vue5/style.scss\n// module id = 341\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/vue5/style.scss\n// module id = 351\n// module chunks = 0","module.exports = \"<div id=vue-content> <div class=name>Name: {{ user.name }}</div> <div class=age>Age: {{ user.age }}</div> <div class=click>Clicked: {{ click }} times</div> <button id=clickme>Click Me!</button> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nuomi/vue5/template.html\n// module id = 364\n// module chunks = 0","import template from './template.html';\nimport { g, CONST } from '../../gtool';\nimport './style.scss';\nimport Observer from './Observer';\nimport Vue from './Vue';\n\nexport function create (parent, option = []) {\n    parent = typeof parent === 'string' ? g.$(parent) : parent;\n\n    parent.innerHTML = template;\n\n    let app = new Vue({\n        el: '#vue-content',\n        data: {\n            user: {\n                name: 'Geeku',\n                age: 24\n            },\n            click: 0\n        }\n    });\n\n    window.app = app;\n    \n    g.$('#clickme').addEventListener('click', e => {\n        app.data.click += 1;\n    });\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/nuomi/vue5/index.js"],"sourceRoot":""}